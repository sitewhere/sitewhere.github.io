<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Postman Configuration | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.1.1 Documentation">
    <link rel="icon" href="/docs/2.1.1/images/favicon.png">
    
    <link rel="preload" href="/docs/2.1.1/assets/css/0.styles.8f4696ac.css" as="style"><link rel="preload" href="/docs/2.1.1/assets/js/app.1db3b11a.js" as="script"><link rel="preload" href="/docs/2.1.1/assets/js/30.82b5b62f.js" as="script"><link rel="preload" href="/docs/2.1.1/assets/js/2.4ed7eea7.js" as="script"><link rel="prefetch" href="/docs/2.1.1/assets/js/10.3e5bc479.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/11.7541d376.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/12.4815cd63.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/13.68795442.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/14.3ab80998.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/15.869fcaf0.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/16.9720bfa2.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/17.0de35fef.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/18.2477036a.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/19.64a4b382.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/20.d7b494ed.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/21.ffdaaba5.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/22.a9795de2.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/23.1dab004c.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/24.333244a2.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/25.29df908c.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/26.b725e667.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/27.3bac81be.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/28.2c9088d8.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/29.c05c8bc9.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/3.b8acad57.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/31.3975865e.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/32.73d0f4f9.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/33.916d7abb.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/34.c1146d70.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/35.390450b1.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/36.d392bd5b.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/37.076ad210.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/4.771e66cd.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/5.63834626.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/6.2d893a19.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/7.37c1dbb1.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/8.52f35389.js"><link rel="prefetch" href="/docs/2.1.1/assets/js/9.f404e5da.js">
    <link rel="stylesheet" href="/docs/2.1.1/assets/css/0.styles.8f4696ac.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.1.1/" class="home-link router-link-active"><img src="/docs/2.1.1/images/logo.svg" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.1.1/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.1.1/guide/" class="nav-link router-link-active">User Guide</a></div><div class="nav-item"><a href="/docs/2.1.1/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><a href="/docs/2.1.1/development/" class="nav-link">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.1/guide/postman-configuration.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.1/es/guide/postman-configuration.html" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.1.1/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.1.1/guide/" class="nav-link router-link-active">User Guide</a></div><div class="nav-item"><a href="/docs/2.1.1/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><a href="/docs/2.1.1/development/" class="nav-link">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.1/guide/postman-configuration.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.1/es/guide/postman-configuration.html" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.1.1/guide/" class="sidebar-link">SiteWhere User Guide</a></li><li><a href="/docs/2.1.1/guide/zookeeper-configuration.html" class="sidebar-link">Apache Zookeeper Configuration</a></li><li><a href="/docs/2.1.1/guide/kafka-configuration.html" class="sidebar-link">Apache Kafka Configuration</a></li><li><a href="/docs/2.1.1/guide/microservices/instance-management.html" class="sidebar-link">Instance Management Microservice</a></li><li><a href="/docs/2.1.1/guide/postman-configuration.html" class="active sidebar-link">Postman Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.1.1/guide/postman-configuration.html#install-postman-collection" class="sidebar-link">Install Postman Collection</a></li><li class="sidebar-sub-header"><a href="/docs/2.1.1/guide/postman-configuration.html#postman-environment" class="sidebar-link">Postman Environment</a></li><li class="sidebar-sub-header"><a href="/docs/2.1.1/guide/postman-configuration.html#security" class="sidebar-link">Security</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="postman-configuration"><a href="#postman-configuration" aria-hidden="true" class="header-anchor">#</a> Postman Configuration</h1> <h2 id="install-postman-collection"><a href="#install-postman-collection" aria-hidden="true" class="header-anchor">#</a> Install Postman Collection</h2> <p>To install the Postman Collection, you must first install the Postman App for Windows, Mac, or Chrome. You can download any of these from <a href="https://www.getpostman.com/apps" target="_blank" rel="noopener noreferrer">Postman Apps<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>Next, install the Collection by clicking on the relevant Run in Postman button.</p> <p><a href="https://app.getpostman.com/run-collection/78d8f4507adfab6ed0d8" target="_blank" rel="noopener noreferrer"><img src="https://run.pstmn.io/button.svg" alt="Run in Postman"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h2 id="postman-environment"><a href="#postman-environment" aria-hidden="true" class="header-anchor">#</a> Postman Environment</h2> <p>An environment is a set of variables you can use in your Postman requests. You can use environments to group related sets of values together and manage access to shared Postman data.</p> <p>To use the imported collection, you must create a Postman Environment. See <a href="https://learning.postman.com/docs/postman/variables-and-environments/managing-environments/#creating-environments" target="_blank" rel="noopener noreferrer">Create Environment<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <p>This environment must have defined the following variables. See <a href="https://learning.postman.com/docs/postman/variables-and-environments/managing-environments/#adding-environment-variables" target="_blank" rel="noopener noreferrer">Add environment variables<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <table><thead><tr><th>Variable</th> <th>Sample Value</th></tr></thead> <tbody><tr><td>baseUrl</td> <td>http://server:port/sitewhere/api</td></tr> <tr><td>tokenBaseUrl</td> <td>http://server:port/sitewhere</td></tr> <tr><td>user</td> <td>admin</td></tr> <tr><td>tenant</td> <td>default</td></tr> <tr><td>tenantAuth</td> <td>sitewhere1234567890</td></tr> <tr><td>token</td> <td></td></tr></tbody></table> <h2 id="security"><a href="#security" aria-hidden="true" class="header-anchor">#</a> Security</h2> <p>To make a request, you must first obtain a JWT token to authorize and authenticate the user, so that he can make requests. For this, the collection has an Authorization folder with a method called JWT.<br>
This method uses an authorization of the Basic type, which requires username and password, this password must be entered in the Method authorization section in Postman, instead the username is obtained from the environment variable user.<br>
This method uses the following variables</p> <table><thead><tr><th>Variable</th> <th>Sample Value</th></tr></thead> <tbody><tr><td>tokenBaseUrl</td> <td>http://server:port/sitewhere</td></tr> <tr><td>user</td> <td>admin</td></tr> <tr><td>token</td> <td></td></tr></tbody></table> <p>The tokenBaseUrl variable is where your Sitewhere REST API instance is running.<br>
The user variable is configured in Sitewhere security.<br>
The token variable is automatically obtained and assigned after a successful request.</p> <p>The following image is a request example of obtaining a valid token</p> <a href="/docs/2.1.1/images/postman/JWT_Request.png" class="inline-image"><img src="/docs/2.1.1/images/postman/JWT_Request.png" alt title="JWT Request"></a> <p>If the answer is successful in the test section the <em>token</em> variable is assigned, using the following script</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code><span class="token keyword">if</span><span class="token punctuation">(</span>pm<span class="token punctuation">.</span>response<span class="token punctuation">.</span>code <span class="token operator">===</span> <span class="token number">200</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token keyword">var</span> data<span class="token operator">=</span> pm<span class="token punctuation">.</span>response<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">one</span><span class="token punctuation">(</span><span class="token string">'x-sitewhere-jwt'</span><span class="token punctuation">)</span><span class="token punctuation">.</span>value<span class="token punctuation">;</span>
    pm<span class="token punctuation">.</span>environment<span class="token punctuation">.</span><span class="token keyword">set</span><span class="token punctuation">(</span><span class="token string">&quot;token&quot;</span><span class="token punctuation">,</span> data<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="tenant-request-headers"><a href="#tenant-request-headers" aria-hidden="true" class="header-anchor">#</a> Tenant Request Headers</h3> <p>When you request a particular tenant service, you need to add two additional headers to your Request. For that you use the following environment variables:</p> <table><thead><tr><th>Variable</th> <th>Sample Value</th></tr></thead> <tbody><tr><td>tenant</td> <td>default</td></tr> <tr><td>tenantAuth</td> <td>sitewhere1234567890</td></tr></tbody></table> <p>In the postman collection if you edit the collection, you will see this in Pre-Request Script Tab.</p> <a href="/docs/2.1.1/images/postman/edit_collection.png" class="inline-image"><img src="/docs/2.1.1/images/postman/edit_collection.png" alt title="Edit Collection"></a> <p>This script assigns the values ​​to the environment variables and is inherited for all the requests in the collection, indicating the authentication and the tenant on which the request is made.</p> <div class="language-javascript extra-class"><pre class="language-javascript"><code>pm<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span> <span class="token string">'X-SiteWhere-Tenant-Id'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> pm<span class="token punctuation">.</span>environment<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'tenant'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
pm<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span> <span class="token string">'X-SiteWhere-Tenant-Auth'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> pm<span class="token punctuation">.</span>environment<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'tenantAuth'</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token keyword">let</span> tokenStr <span class="token operator">=</span> <span class="token string">'Bearer '</span><span class="token operator">+</span> pm<span class="token punctuation">.</span>environment<span class="token punctuation">.</span><span class="token keyword">get</span><span class="token punctuation">(</span><span class="token string">'token'</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
pm<span class="token punctuation">.</span>request<span class="token punctuation">.</span>headers<span class="token punctuation">.</span><span class="token function">add</span><span class="token punctuation">(</span><span class="token punctuation">{</span>key<span class="token punctuation">:</span> <span class="token string">'Authorization'</span><span class="token punctuation">,</span> value<span class="token punctuation">:</span> tokenStr<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span> 
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/master/docs/guide/postman-configuration.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">6/19/2020, 6:09:40 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/2.1.1/guide/microservices/instance-management.html" class="prev">
          Instance Management Microservice
        </a></span> <!----></p></div> </div> <!----></div></div>
    <script src="/docs/2.1.1/assets/js/app.1db3b11a.js" defer></script><script src="/docs/2.1.1/assets/js/30.82b5b62f.js" defer></script><script src="/docs/2.1.1/assets/js/2.4ed7eea7.js" defer></script>
  </body>
</html>
