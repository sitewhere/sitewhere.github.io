(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{258:function(e,t,a){"use strict";a.r(t);var s=a(1),r=Object(s.a)({},(function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"content"},[e._m(0),e._v(" "),a("Seo"),e._v(" "),a("p",[e._v("Esta guía cubre el proceso de implementación de SiteWhere 2.1 que ha cambiado significativamente\ndel utilizado para SiteWhere 1.x. Si bien las versiones anteriores de SiteWhere se implementaron\ncomo un solo nodo de servidor, la arquitectura de SiteWhere 2.1 se basa en muchos microservicios\nque se despliegan en una infraestructura "),a("a",{attrs:{href:"https://kubernetes.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("InlineImage",{attrs:{src:"/images/deployment/deployment.png",caption:"Diagrama de Despliegue de SiteWhere"}}),e._v(" "),e._m(1),e._v(" "),a("p",[e._v("Debido a que SiteWhere 2.1 utiliza una arquitectura de microservicios, la cantidad de procesos\nque se ejecutan simultáneamente han aumentado, lo que a su vez requiere más memoria y potencia\nde procesamiento. Las especificaciones mínimas de hardware para un clúster Kubernetes de un solo\nnodo que ejecuta una instancia de SiteWhere es:")]),e._v(" "),e._m(2),e._v(" "),a("p",[e._v("En la mayoría de los escenarios de implementación del mundo real, se utilizará un clúster de\nKubernetes de múltiples nodos para que el sistema pueda estar altamente disponible. En los\ncasos en que los microservicios se distribuyen a través de múltiples nodos k8s, los requisitos\npor nodo se pueden ajustar en función de la cantidad de microservicios por nodo (generalmente\n500 MB de memoria por microservicio).")]),e._v(" "),e._m(3),e._v(" "),a("p",[e._v("SiteWhere 2.1 utiliza Kubernetes como una solución de orquestación de contenedores de nivel de\nproducción que puede instalarse tanto localmente/on-premise como en los entornos de nube principales.\nLos grupos de Kubernetes están disponibles como servicio en\n"),a("a",{attrs:{href:"https://cloud.google.com/kubernetes-engine/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Google Cloud"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://aws.amazon.com/eks/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Amazon AWS"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://azure.microsoft.com/en-us/services/kubernetes-service/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Azure"),a("OutboundLink")],1),e._v("\ny en la mayoría de los otros proveedores de la nube.")]),e._v(" "),e._m(4),e._v(" "),a("p",[e._v("Se puede implementar un clúster de Kubernetes de un solo nodo para el entorno de desarrollo y el\nentorno de pruebas de SiteWhere. Dependiendo del sistema operativo subyacente utilizado, existen\nalgunas opciones para ejecutar una instancia de k8s local.")]),e._v(" "),e._m(5),e._v(" "),a("p",[a("a",{attrs:{href:"https://www.docker.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker"),a("OutboundLink")],1),e._v(" proporciona la implementación de contenedor predeterminada\nutilizada por la mayoría de los proveedores de Kubernetes. El ecosistema Docker ha adoptado\nKubernetes y ofrece compatibilidad inmediata para ejecutar una instancia de nodo único a través\nde sus soluciones "),a("a",{attrs:{href:"https://docs.docker.com/v17.09/docker-for-windows/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker para Windows"),a("OutboundLink")],1),e._v("\ny "),a("a",{attrs:{href:"https://docs.docker.com/v17.09/docker-for-mac/install/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Docker para Mac"),a("OutboundLink")],1),e._v(".\nDespués de instalar los componentes principales de Docker, el soporte de Kubernetes se puede\nhabilitar directamente desde la configuración de Docker. Para la mayoría de los usuarios, esta\nes la ruta más rápida para ejecutar un entorno local de Kubernetes. Para obtener más detalles,\nconsulte "),a("a",{attrs:{href:"https://blog.docker.com/2018/07/kubernetes-is-now-available-in-docker-desktop-stable-channel/",target:"_blank",rel:"noopener noreferrer"}},[e._v("este blog"),a("OutboundLink")],1),e._v("\ndel equipo de Docker.")]),e._v(" "),e._m(6),e._v(" "),a("p",[a("a",{attrs:{href:"https://github.com/kubernetes/minikube",target:"_blank",rel:"noopener noreferrer"}},[e._v("Minikube"),a("OutboundLink")],1),e._v(" es una herramienta que facilita la ejecución de\nun clúster de Kubernetes de un solo nodo dentro de una máquina virtual. Los entornos compatibles\nincluyen "),a("a",{attrs:{href:"https://www.virtualbox.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("VirtualBox"),a("OutboundLink")],1),e._v(",\n"),a("a",{attrs:{href:"https://www.vmware.com/products/fusion.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("VMware Fusion"),a("OutboundLink")],1),e._v(" y muchos otros. Para obtener\ninstrucciones completas sobre la instalación / implementación de Minikube, consulte su\n"),a("a",{attrs:{href:"https://kubernetes.io/docs/setup/minikube/",target:"_blank",rel:"noopener noreferrer"}},[e._v("guía de configuración"),a("OutboundLink")],1),e._v(".")]),e._v(" "),a("p",[e._v("Si se instala un clúster de Kubernetes en una nueva instalación o en máquinas virtuales, le\nfalta un balanceador de carga externo. Un balanceador de carga de red en la nube que\nviene con plataformas como Azure o GCM, que proporciona una dirección IP accesible desde el\nexterior que envía el tráfico al puerto correcto en los nodos del clúster.\n"),a("a",{attrs:{href:"https://metallb.universe.tf/",target:"_blank",rel:"noopener noreferrer"}},[e._v("MetalLB"),a("OutboundLink")],1),e._v(" es un balanceador de carga diseñado para ejecutarse\ny funcionar con Kubernetes y le permitirá usar el tipo LoadBalancer cuando declare un servicio.")]),e._v(" "),e._m(7),e._v(" "),a("p",[e._v("MetalLB se ejecuta en dos partes: un controlador de todo el clúster y un altavoz de protocolo por máquina. Instalar MetalLB por\naplicando el manifiesto:")]),e._v(" "),e._m(8),a("p",[e._v("Este manifiesto crea muchos recursos. La mayoría de ellos están relacionados con el control\nde acceso, por lo que MetalLB puede leer y escribir los objetos de Kubernetes que necesita\npara hacer su trabajo.")]),e._v(" "),e._m(9),e._v(" "),e._m(10),a("p",[e._v("debería aparecer un resultado similar:")]),e._v(" "),e._m(11),a("p",[e._v("Para obtener instrucciones completas sobre la instalación de MetalLB,\nconsulte "),a("a",{attrs:{href:"https://metallb.universe.tf/installation/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Instalación de MetalLB"),a("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(12),e._v(" "),a("p",[e._v("La configuración de MetalLB es un ConfigMap Kubernetes estándar, configuración bajo el espacio\nde nombres del sistema metallb. Contiene dos elementos de información: qué direcciones IP puede\ndistribuir y qué protocolo utilizar para dicha tarea.\nEn esta configuración, a MetalLB se le indica que entregue la dirección del rango 192.168.99.100/28,\nutilizando el modo de capa 2 (protocolo: capa2).\nEn el desarrollo local, la dirección IP de Minikube se utiliza como inicio del rango.\nPara obtener el uso de la dirección IP de Minikube:")]),e._v(" "),e._m(13),a("p",[e._v("Ejemplo:")]),e._v(" "),e._m(14),a("p",[e._v("Aplicar esta configuración:")]),e._v(" "),e._m(15),a("p",[e._v("Para obtener instrucciones sobre la configuración de MetalLB, consulte\n"),a("a",{attrs:{href:"https://metallb.universe.tf/configuration/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Configuración de MetalLB"),a("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(16),e._v(" "),a("p",[e._v("Para obtener una lista completa de otras opciones para implementar Kubernetes, consulte\n"),a("a",{attrs:{href:"https://kubernetes.io/docs/setup/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Kubernetes Setup Guide"),a("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(17),e._v(" "),a("p",[e._v("El método preferido para implementar una instancia de SiteWhere 2.1 en un Cluster de Kubernetes\nen ejecución es mediante el uso de "),a("a",{attrs:{href:"https://helm.sh/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Helm"),a("OutboundLink")],1),e._v(", que admite un proceso de\nimplementación optimizado y configurable. SiteWhere proporciona Helm\n"),a("a",{attrs:{href:"https://github.com/sitewhere/sitewhere-k8s/tree/master/charts",target:"_blank",rel:"noopener noreferrer"}},[e._v("charts"),a("OutboundLink")],1),e._v(" que se pueden usar\npara arrancar el sistema en varias configuraciones dependiendo de los perfiles y otras\nopciones de configuración seleccionadas.")]),e._v(" "),a("p",[e._v("Para implementar SiteWhere, se debe instalar Helm. Siga\n"),a("a",{attrs:{href:"https://docs.helm.sh/using_helm/#installing-helm",target:"_blank",rel:"noopener noreferrer"}},[e._v("estas instrucciones"),a("OutboundLink")],1),e._v(" para instalar Helm en su entorno.")]),e._v(" "),e._m(18),e._v(" "),e._m(19),e._v(" "),a("p",[e._v("SiteWhere 2.1 requiere "),a("a",{attrs:{href:"https://istio.io/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Istio"),a("OutboundLink")],1),e._v(", con\n"),a("a",{attrs:{href:"https://istio.io/docs/setup/kubernetes/additional-setup/sidecar-injection/#automatic-sidecar-injection",target:"_blank",rel:"noopener noreferrer"}},[e._v("Automatic sidecar injection"),a("OutboundLink")],1),e._v(",\ninstalado en un clúster de Kubernetes antes de implementar una instancia de SiteWhere. Puede instalar Istio\n"),a("a",{attrs:{href:"https://istio.io/docs/setup/kubernetes/install/helm/",target:"_blank",rel:"noopener noreferrer"}},[e._v("con"),a("OutboundLink")],1),e._v(" o "),a("a",{attrs:{href:"https://istio.io/docs/setup/kubernetes/install/kubernetes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("sin"),a("OutboundLink")],1),e._v(" Helm.")]),e._v(" "),e._m(20),e._v(" "),e._m(21),e._m(22),a("p",[e._v("Si no, agregue la etiqueta al espacio de nombres:")]),e._v(" "),e._m(23),e._m(24),e._v(" "),a("p",[e._v("Para instalar SiteWhere usando Helm, se necesita agregar el "),a("a",{attrs:{href:"https://sitewhere.io/helm-charts",target:"_blank",rel:"noopener noreferrer"}},[e._v("Repositorio Helm de SiteWhere"),a("OutboundLink")],1),e._v("\nen su cliente Helm.")]),e._v(" "),e._m(25),a("p",[e._v("Entonces necesitas actualizar tu repositorio local de Helm")]),e._v(" "),e._m(26),e._m(27),e._v(" "),e._m(28),e._m(29),e._v(" "),a("p",[e._v("Para facilitar el proceso de instalación de los diversos componentes de infraestructura de\nSiteWhere, se dispone de un "),a("a",{attrs:{href:"https://github.com/sitewhere/sitewhere-k8s",target:"_blank",rel:"noopener noreferrer"}},[e._v("repositorio"),a("OutboundLink")],1),e._v("\nseparado para los diversos artefactos de k8s.")]),e._v(" "),e._m(30),e._v(" "),a("p",[e._v("Usando un cliente "),a("a",{attrs:{href:"https://git-scm.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Git"),a("OutboundLink")],1),e._v(", clone el repositorio en la máquina donde\ntiene configurado el entorno Kubernetes. El repositorio se puede clonar con el siguiente\ncomando:")]),e._v(" "),e._m(31),e._m(32),e._v(" "),e._m(33),e._v(" "),a("p",[e._v("Para instalar SiteWhere con la configuración predeterminada (incluidos todos los microservicios\ny los componentes de infraestructura predeterminados) ejecute:")]),e._v(" "),e._m(34),e._m(35),e._v(" "),e._m(36),e._v(" "),e._m(37),a("p",[e._v("En esta configuración, algunos servicios no estarán disponibles y las API correspondientes\ndevolverán códigos de error que indican que no se pueden satisfacer las solicitudes del servicio.")]),e._v(" "),e._m(38),e._v(" "),e._m(39),e._v(" "),e._m(40),e._m(41),e._v(" "),e._m(42),e._v(" "),a("p",[e._v("Para admitir el almacenamiento persistente de múltiples nodos para componentes de\ninfraestructura de SiteWhere como Kafka, Zookeeper y las diversas tecnologías de bases de\ndatos, se debe utilizar un sistema de almacenamiento distribuido como "),a("a",{attrs:{href:"https://ceph.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Ceph"),a("OutboundLink")],1),e._v(".\nEl proyecto "),a("a",{attrs:{href:"https://rook.io",target:"_blank",rel:"noopener noreferrer"}},[e._v("Rook"),a("OutboundLink")],1),e._v(" admite un proceso simplificado para implementar Ceph\nen un entorno Kubernetes, lo que permite un almacenamiento persistente escalable y confiable\nque se puede utilizar directamente desde las API de almacenamiento estándar de k8s.")]),e._v(" "),a("p",[e._v("Al ejecutar la siguiente lista de comandos, un clúster de Rook se iniciará y estará disponible\npara su uso por SiteWhere.")]),e._v(" "),e._m(43),a("p",[e._v("Tenga en cuenta que los componentes de Rook permiten que la información persistente, como\nbases de datos u otro estado del sistema, se mantenga fuera de la instancia de SiteWhere.\nSiteWhere usa k8s "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/storage/persistent-volumes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("volúmenes persistentes"),a("OutboundLink")],1),e._v("\npara crear referencias a los datos persistentes que están disponibles en el clúster k8s de\nmanera replicada y de alta disponibilidad y vive más allá del reinicio del sistema. Los\ndatos subyacentes solo se eliminan si los PVCs/PVs se eliminan manualmente.")]),e._v(" "),e._m(44),e._v(" "),a("p",[e._v("Una vez que SiteWhere se ha instalado, hay muchas formas de interactuar con el sistema para\nverificar que los microservicios se hayan iniciado con éxito. Cualquiera de las herramientas\nestándar de Kubernetes puede usarse para introspectar los pods de SiteWhere.")]),e._v(" "),e._m(45),e._v(" "),a("p",[a("a",{attrs:{href:"https://code.visualstudio.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Visual Studio Code"),a("OutboundLink")],1),e._v(" ofrece un complemento opcional de Kubernetes\nque admite la gestión de muchos aspectos de un clúster en ejecución. La extensión se publica\ncomo un repositorio de "),a("a",{attrs:{href:"https://github.com/Azure/vscode-kubernetes-tools",target:"_blank",rel:"noopener noreferrer"}},[e._v("código abierto"),a("OutboundLink")],1),e._v(" y\npuede instalarse a través del administrador de extensiones VS Code.")]),e._v(" "),a("InlineImage",{attrs:{src:"/images/deployment/vs-code-kubernetes-plugin.png",caption:"Kubernetes Plugin"}}),e._v(" "),a("p",[e._v('Después de instalar el complemento, busque los nodos de Kubernetes para ver los servicios en ejecución.\nUna vez que se hayan iniciado todos los servicios de infraestructura, se iniciarán los servicios\nde SiteWhere.\nPara examinar los registros de los servicios individuales, haga clic con el botón derecho en\nun pod en el árbol y elija "Follow Logs" para adjuntarlos a los registros de ese microservicio\nen una terminal. Se pueden abrir múltiples terminales simultáneamente para rastrear registros\nde múltiples servicios.')]),e._v(" "),a("InlineImage",{attrs:{src:"/images/deployment/vs-code-sitewhere-services.png",caption:"SiteWhere Services"}}),e._v(" "),e._m(46),e._v(" "),a("p",[e._v("El proyecto Kubernetes incluye una interfaz de usuario de tablero que se puede usar para ver\nlos componentes del clúster para tareas como monitorear el estado de los componentes y ver\nregistros. Para obtener instrucciones completas sobre cómo instalar la interfaz de usuario de\nKubernetes Dashboard, consulte la implementación del tablero "),a("a",{attrs:{href:"https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/#deploying-the-dashboard-ui",target:"_blank",rel:"noopener noreferrer"}},[e._v("documentación"),a("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(47),e._v(" "),a("p",[e._v("Una vez que se ha implementado una instancia de SiteWhere, la aplicación administrativa de SiteWhere\nse puede usar para conectarse a la instancia y configurarla. La aplicación administrativa se basa en\n"),a("a",{attrs:{href:"https://electronjs.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Electron"),a("OutboundLink")],1),e._v(" y se puede descargar directamente desde el proyecto\n"),a("a",{attrs:{href:"https://github.com/sitewhere/sitewhere-admin-ui/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("releases"),a("OutboundLink")],1),e._v(" página. Después de\ninstalar la aplicación, ábrala e inicie sesión con las credenciales administrativas\npredeterminadas:")]),e._v(" "),e._m(48),e._v(" "),e._m(49),e._v(" "),a("InlineImage",{attrs:{src:"/images/platform/login.png",caption:"Administrative Application"}}),e._v(" "),a("p",[e._v("Consulte la guía del usuario para obtener más información sobre el uso de la aplicación administrativa.")]),e._v(" "),e._m(50),e._v(" "),a("p",[e._v("Para eliminar SiteWhere, ejecute el siguiente comando")]),e._v(" "),e._m(51),e._m(52),e._v(" "),a("p",[e._v("Para eliminar todos los datos de SiteWhere y comenzar con un sistema limpio, debe eliminar\nlos "),a("a",{attrs:{href:"https://kubernetes.io/docs/concepts/storage/persistent-volumes/",target:"_blank",rel:"noopener noreferrer"}},[e._v("persistent volume claims"),a("OutboundLink")],1),e._v("\nque crean los componentes de infraestructura de SiteWhere. Los siguientes comandos se pueden\nusar para eliminar datos agregados por la configuración predeterminada de SiteWhere:")]),e._v(" "),e._m(53),e._m(54),e._v(" "),a("p",[e._v("Para desinstalar Rook y los componentes de Ceph que envuelve, consulte este\n"),a("a",{attrs:{href:"https://rook.io/docs/rook/v0.8/ceph-teardown.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("documento"),a("OutboundLink")],1),e._v(" y siga las instrucciones\npara eliminar los componentes y los relacionados datos.")]),e._v(" "),e._m(55)],1)}),[function(){var e=this.$createElement,t=this._self._c||e;return t("h1",{attrs:{id:"instalando-una-instancia-de-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-una-instancia-de-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalando una Instancia de SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"requerimientos-del-sistema"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#requerimientos-del-sistema","aria-hidden":"true"}},[this._v("#")]),this._v(" Requerimientos del Sistema")])},function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("table",[a("thead",[a("tr",[a("th",[e._v("Recurso")]),e._v(" "),a("th",[e._v("Valor Min")])])]),e._v(" "),a("tbody",[a("tr",[a("td",[e._v("Memory")]),e._v(" "),a("td",[e._v("16GB RAM")])]),e._v(" "),a("tr",[a("td",[e._v("CPU")]),e._v(" "),a("td",[e._v("4 CPUs")])]),e._v(" "),a("tr",[a("td",[e._v("Hard Disk/SSD")]),e._v(" "),a("td",[e._v("100GB")])])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"instalando-kubernetes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-kubernetes","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalando Kubernetes")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"instalacion-en-entorno-de-desarrollo-de-un-solo-nodo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalacion-en-entorno-de-desarrollo-de-un-solo-nodo","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalación en Entorno de Desarrollo de un Solo Nodo")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"uso-de-la-integracion-de-docker-kubernetes"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uso-de-la-integracion-de-docker-kubernetes","aria-hidden":"true"}},[this._v("#")]),this._v(" Uso de la Integración de Docker / Kubernetes")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"uso-de-minikube"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#uso-de-minikube","aria-hidden":"true"}},[this._v("#")]),this._v(" Uso de Minikube")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"instalar-metallb-en-minikube"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalar-metallb-en-minikube","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalar MetalLB en Minikube")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("$ kubectl apply -f https://raw.githubusercontent.com/google/metallb/v0.7.3/manifests/metallb.yaml\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Las dos piezas de interés son la implementación "),t("strong",[this._v('"controlador"')]),this._v(" y el "),t("strong",[this._v('"speaker"')]),this._v(" DaemonSet.\nPara monitorear:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("$ kubectl get pods -n metallb-system\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("NAME                          READY     STATUS    RESTARTS   AGE\ncontroller-7fbd769fcc-58fm8   1/1       Running   0          50m\nspeaker-rctgd                 1/1       Running   0          50m\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("Aplicar ConfigMap")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("$ minikube ip\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("192.168.99.100\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("apiVersion: v1\nkind: ConfigMap\nmetadata:\n  namespace: metallb-system\n  name: config\ndata:\n  config: "),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("|")]),this._v("\n    address-pools:\n    - name: custom-ip-space\n      protocol: layer2\n      addresses:\n      - 192.168.99.100/28\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h4",{attrs:{id:"mas-opciones"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#mas-opciones","aria-hidden":"true"}},[this._v("#")]),this._v(" Más Opciones")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"instalando-helm"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-helm","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalando Helm")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"warning custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),t("p",[this._v("SiteWhere no admite actualmente Helm 3 ya que no se ha lanzado oficialmente y hay cambios\nsignificativos en la arquitectura y los comandos de la CLI. Todas las instrucciones relacionadas\ncon Helm suponen que se está utilizando una versión 2.x.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"instalando-istio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-istio","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalando Istio")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Asegúrese de que el espacio de nombres donde está implementando SiteWhere tiene la etiqueta "),t("code",[this._v("istio-injection = enabled")]),this._v(",\npor ejemplo, para el uso del espacio de nombres "),t("code",[this._v("default")]),this._v(":")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("kubectl get namespace -L istio-injection\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("NAME           STATUS    AGE       ISTIO-INJECTION\ndefault        Active    1h        enabled\nistio-system   Active    1h\nkube-public    Active    1h\nkube-system    Active    1h\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("kubectl label namespace default istio-injection"),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("enabled\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"instalando-sitewhere-desde-el-repositorio-helm-de-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalando-sitewhere-desde-el-repositorio-helm-de-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalando SiteWhere desde el Repositorio Helm de SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm repo add sitewhere https://sitewhere.io/helm-charts\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm repo update\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Para instalar el gráfico con el nombre de la versión "),t("code",[this._v("sitewhere")]),this._v(" ejecute:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --name sitewhere sitewhere/sitewhere\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"instalar-sitewhere-desde-el-repositorio-de-kubernetes-de-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalar-sitewhere-desde-el-repositorio-de-kubernetes-de-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalar SiteWhere desde el Repositorio de Kubernetes de SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"clonar-el-repositorio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#clonar-el-repositorio","aria-hidden":"true"}},[this._v("#")]),this._v(" Clonar el Repositorio")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[t("span",{pre:!0,attrs:{class:"token function"}},[this._v("git")]),this._v(" clone https://github.com/sitewhere/sitewhere-k8s.git\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Una vez que el repositorio ha sido clonado, navegue al subdirectorio "),t("strong",[this._v("sitewhere-k8s/charts")]),this._v(".\nEste directorio contiene recursos Helm Charts y Kubernetes para escenarios de implementación de SiteWhere.")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"instalar-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalar-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalar SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --name sitewhere ./sitewhere\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ejecutando-con-recursos-restringidos"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ejecutando-con-recursos-restringidos","aria-hidden":"true"}},[this._v("#")]),this._v(" Ejecutando con recursos restringidos")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Si desea ejecutar SiteWhere en un clúster de bajos recursos, use el perfil "),t("em",[this._v("minimal")]),this._v(" con Helm\nChart para instalar solo los microservicios principales necesarios para arrancar el sistema:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --name sitewhere --set services.profile"),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("minimal ./sitewhere\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"ejecutando-con-almacenamiento-de-host"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ejecutando-con-almacenamiento-de-host","aria-hidden":"true"}},[this._v("#")]),this._v(" Ejecutando con almacenamiento de host")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("Si no necesita Rook.io, puede omitir la instalación de Rook.io e instalar SiteWhere Helm Chart\nconfigurando la propiedad "),t("code",[this._v("persistence.storageClass")]),this._v(" a otra que no sea"),t("code",[this._v("rook-ceph-block")]),this._v(", por\nejemplo, para usar "),t("code",[this._v("hostpath")]),this._v(" Persistence Storage Class, use el siguiente comando:")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm "),t("span",{pre:!0,attrs:{class:"token function"}},[this._v("install")]),this._v(" --name sitewhere --set persistence.storageClass"),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("hostpath ./sitewhere\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"instalar-rook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#instalar-rook","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalar Rook")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("Este paso es opcional, pero se recomienda para instalaciones de nivel de producción.")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("kubectl create -f rook/common.yaml\nkubectl create -f rook/operator.yaml\nkubectl create -f rook/cluster.yaml\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"monitoreo-de-servicios-de-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#monitoreo-de-servicios-de-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Monitoreo de Servicios de SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"usando-visual-studio-code-kubernetes-support"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usando-visual-studio-code-kubernetes-support","aria-hidden":"true"}},[this._v("#")]),this._v(" Usando Visual Studio Code Kubernetes Support")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"usando-kubernetes-dashboard-ui"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#usando-kubernetes-dashboard-ui","aria-hidden":"true"}},[this._v("#")]),this._v(" Usando Kubernetes Dashboard UI")])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"ejecute-la-aplicacion-administrativa"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#ejecute-la-aplicacion-administrativa","aria-hidden":"true"}},[this._v("#")]),this._v(" Ejecute la Aplicación Administrativa")])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("username")]),this._v(": "),t("code",[this._v("admin")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("strong",[this._v("password")]),this._v(": "),t("code",[this._v("password")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"eliminar-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eliminar-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Eliminar SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("helm del --purge sitewhere\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h3",{attrs:{id:"eliminar-datos-persistentes-de-sitewhere"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#eliminar-datos-persistentes-de-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Eliminar Datos Persistentes de SiteWhere")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"language-bash extra-class"},[t("pre",{pre:!0,attrs:{class:"language-bash"}},[t("code",[this._v("kubectl delete pvc -l release"),t("span",{pre:!0,attrs:{class:"token operator"}},[this._v("=")]),this._v("sitewhere\n")])])])},function(){var e=this.$createElement,t=this._self._c||e;return t("h2",{attrs:{id:"desinstalar-rook"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#desinstalar-rook","aria-hidden":"true"}},[this._v("#")]),this._v(" Desinstalar Rook")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"tip custom-block"},[t("p",{staticClass:"custom-block-title"},[this._v("TIP")]),this._v(" "),t("p",[this._v("Para eliminar los datos persistentes asociados con SiteWhere, no es necesario desinstalar\nRook. Como se detalló anteriormente, los reclamos de persistencia de k8s pueden eliminarse\npara eliminar los datos existentes y comenzar con un sistema limpio.")])])}],!1,null,null,null);r.options.__file="README.md";t.default=r.exports}}]);