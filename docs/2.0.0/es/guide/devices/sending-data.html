<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Enviar datos a SiteWhere 2.0 | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0 Documentation">
    <link rel="icon" href="/docs/2.0.0/images/favicon.ico">
    
    <link rel="preload" href="/docs/2.0.0/assets/css/0.styles.bf0c8a6a.css" as="style"><link rel="preload" href="/docs/2.0.0/assets/js/app.dbde8e8e.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/17.73956901.js" as="script"><link rel="prefetch" href="/docs/2.0.0/assets/js/24.05556ed8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/2.b7022358.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/3.3500d38e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/4.f1b2303e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/5.a0ed5ee7.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/6.be1814f1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/7.9b37627c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/8.3a5b74db.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/9.981f9e8e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/10.dbaadd54.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/11.18698bc8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/12.eb91225b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/13.59f23609.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/14.963442a2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/15.f407abc8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/16.afafda36.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/18.b7c60add.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/19.c05cc571.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/20.aa4922fa.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/21.bf8261c8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/22.eea96d3a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/23.4b507e7f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/25.bdab85ae.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/26.a7b7416b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/27.424e7aa6.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/28.b7bcd604.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/29.487fde2e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/30.cbb2607f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/31.18a9b9c3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/32.68fbee3c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/33.92503b81.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/34.a66e45ec.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/35.593937db.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/36.b579a7ba.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/37.d47afb4c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/38.9936e997.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/39.6a7b5707.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/40.55bf7292.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/41.6eca03bc.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/42.5fa24a51.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/43.9b515da8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/44.da94fc85.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/45.c5bd7ddb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/46.765ac299.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/47.1c7ce0b7.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/48.8febf373.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/49.9938354a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/50.c52079c2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/51.9a62a77c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/52.2e974d55.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/53.1f3ca154.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/54.adb0d490.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/55.628ed4c1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/56.813144fe.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/57.bd10e232.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/58.c8326f42.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/59.6c8768c1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/60.f0f52fa5.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/61.77cb5e86.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/62.3e201c52.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/63.d8be1fbd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/64.24f7460b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/65.5a1cc028.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/66.1056d12d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/67.3aca59c4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/68.1961895d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/69.79b4b823.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/70.d2ae0d30.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/71.31378f90.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/72.3449a1fd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/73.7d379f17.js">
    <link rel="stylesheet" href="/docs/2.0.0/assets/css/0.styles.bf0c8a6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0/es/" class="home-link router-link-active"><img src="/docs/2.0.0/images/logo.svg" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/docs/2.0.0/es/guide/" class="nav-link router-link-active">Guía del usuario</a></div><div class="nav-item"><a href="/docs/2.0.0/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/docs/2.0.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/guide/devices/sending-data.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/guide/devices/sending-data.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/docs/2.0.0/es/guide/" class="nav-link router-link-active">Guía del usuario</a></div><div class="nav-item"><a href="/docs/2.0.0/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/docs/2.0.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/guide/devices/sending-data.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/guide/devices/sending-data.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0/es/guide/devices/sending-data.html" class="active sidebar-link">Enviar datos a SiteWhere 2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0/es/guide/devices/sending-data.html#enviando-datos-del-dispositivo" class="sidebar-link">Enviando datos del dispositivo</a></li></ul></li><li><a href="/docs/2.0.0/es/guide/devices/android.html" class="sidebar-link">Programación de Dispositivos Androids con el SDK de SiteWhere</a></li><li><a href="/docs/2.0.0/es/guide/devices/kura.html" class="sidebar-link">Programación de Dispositivos con el Kura</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="enviar-datos-a-sitewhere-2-0"><a href="#enviar-datos-a-sitewhere-2-0" aria-hidden="true" class="header-anchor">#</a> Enviar datos a SiteWhere 2.0</h1> <p>SiteWhere está diseñado para ser flexible en la forma en que envía y recibe datos de dispositivos y otros agentes.
La mayoría de los protocolos y codificaciones de comunicación más populares son compatibles de fábrica,
pero el sistema también está diseñado para ser extendido fácilmente. Cada inquilino del sistema puede tener
cualquier número de protocolos configurados para comunicarse con dispositivos. De forma predeterminada,
los inquilinos están configurados para comunicarse a través de MQTT con soporte para múltiples codificaciones
para permitir interacciones con muchos tipos de dispositivos.</p> <h2 id="enviando-datos-del-dispositivo"><a href="#enviando-datos-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviando datos del dispositivo</h2> <h3 id="formato-del-paquete-json"><a href="#formato-del-paquete-json" aria-hidden="true" class="header-anchor">#</a> Formato del Paquete JSON</h3> <p>Las siguientes secciones muestran ejemplos de datos JSON estructurados para interactuar con SiteWhere.
Todos los paquetes JSON comparten información común como se muestra a continuación:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(Token único del dispositivo)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(indicador del pedido)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(originator of the message)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripción</th></tr></thead> <tbody><tr><td style="text-align:left">deviceToken</td> <td style="text-align:left">El token del dispositivo que identifica de forma única un dispositivo dentro de un inquilino. Esto informa al sistema qué dispositivo está generando eventos.</td></tr> <tr><td style="text-align:left">type</td> <td style="text-align:left">El tipo de solicitud para el dispositivo. Esto indica cómo deben interpretarse los datos en la sección <em>request</em>.</td></tr> <tr><td style="text-align:left">originator</td> <td style="text-align:left">Este campo es utilizado por los dispositivos si envían un evento en respuesta a un comando, indicando el <em>id</em> del comando.</td></tr> <tr><td style="text-align:left">request</td> <td style="text-align:left">El contenido de la solicitud que es específico para el tipo de paquete que se envía, como lo indica el campo <em>type</em>.</td></tr></tbody></table> <h3 id="enviando-datos-del-dispositivo-usando-profocol-buffer"><a href="#enviando-datos-del-dispositivo-usando-profocol-buffer" aria-hidden="true" class="header-anchor">#</a> Enviando datos del dispositivo usando Profocol Buffer</h3> <p>To send data to SiteWhere using Protocol Buffers, use the <code>sitewhere-device-protobuf</code> library provided by
the SiteWhere development team. To import it using <a href="https://gradle.org" target="_blank" rel="noopener noreferrer">Gradle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> use the instruction.</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>compile group<span class="token punctuation">:</span> <span class="token string">'com.sitewhere'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'sitewhere-device-protobuf'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span><span class="token string">'2.0.0'</span>
</code></pre></div><p>To import the library from a project <a href="https://maven.apache.org/" target="_blank" rel="noopener noreferrer">Maven<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> use the following entry in your <code>pom.xml</code>.</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sitewhere<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>sitewhere-device-protobuf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.0<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="registrar-un-dispositivo"><a href="#registrar-un-dispositivo" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo</h3> <p>Antes de que los dispositivos puedan enviar datos de eventos, deben registrarse con el sistema.
SiteWhere enviará una respuesta en el canal de comando del sistema para indicar si el dispositivo podría registrarse.
También indicará si el dispositivo ya estaba registrado o no.</p> <h4 id="registrar-un-dispositivo-con-json"><a href="#registrar-un-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo con JSON</h4> <p>El siguiente paquete JSON se puede usar para registrar un dispositivo:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RegisterDevice&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;areaToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;southeast&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;customerToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acme&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;deviceTypeToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;raspberrypi&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripción</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>RegisterDevice</code></td></tr> <tr><td style="text-align:left">areaToken</td> <td style="text-align:left">Un token que especifica el <code>Area</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">customerToken</td> <td style="text-align:left">Un token que especifica el <code>Customer</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">deviceTypeToken</td> <td style="text-align:left">Un token que especifica el <code>Device Type</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">La metadata del dispositivo que se esta registrado.</td></tr></tbody></table> <h4 id="registrar-un-dispositivo-con-profocol-buffer"><a href="#registrar-un-dispositivo-con-profocol-buffer" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo con Profocol Buffer</h4> <p>De igual manera, se puede registrar el dispositivo utilizando Java y Protocol Buffers de la siguiente manera:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendRegistration<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span>
  SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

builder<span class="token punctuation">.</span><span class="token function">getAreaTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;myareatoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">getCustomerTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mycustomertoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">getDeviceTypeTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">putAllMetadata</span><span class="token punctuation">(</span>myMetadata<span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-mediciones-del-dispositivo"><a href="#enviar-mediciones-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo</h3> <h4 id="enviar-mediciones-del-dispositivo-con-json"><a href="#enviar-mediciones-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo con JSON</h4> <p>SiteWhere admite el almacenamiento de mediciones relacionadas con un dispositivo como datos de eventos.
El formato JSON para enviar una medición del dispositivo se muestra a continuación:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceMeasurement&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;34.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateState&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span><span class="token string">&quot;2018-11-21T22:10:13.418-0300&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripción</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceMeasurement</code></td></tr> <tr><td style="text-align:left">name</td> <td style="text-align:left">Nombre de la medeción que se está enviando.</td></tr> <tr><td style="text-align:left">value</td> <td style="text-align:left">Valor de la medeción que se está enviando.</td></tr> <tr><td style="text-align:left">updateState</td> <td style="text-align:left">Si es <code>true</code>, actualiza el <code>DeviceState</code> de la asigación.</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-mediciones-del-dispositivo-con-protocol-buffers"><a href="#enviar-mediciones-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una medición del dispositivo se muestra a continuación:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendMeasurement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementName</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementValue</span><span class="token punctuation">(</span>GOptionalDouble<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">34.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-ubicacion-del-dispositivo"><a href="#enviar-ubicacion-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Ubicación del Dispositivo</h3> <p>SiteWhere admite el almacenamiento de ubicaciones relacionadas con un dispositivo como datos de eventos.</p> <h4 id="enviar-ubicacion-del-dispositivo-con-json"><a href="#enviar-ubicacion-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Ubicación del Dispositivo con JSON</h4> <p>El formato JSON para enviar una ubicación de dispositivo se muestra a continuación:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceLocation&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;latitude&quot;</span><span class="token operator">:</span> <span class="token string">&quot;33.75&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;latitude&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-84.39&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;elevation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateState&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-03T19:40:03.390Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripción</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceLocation</code></td></tr> <tr><td style="text-align:left">latitude</td> <td style="text-align:left">Latitud de la Ubicación que se está enviando.</td></tr> <tr><td style="text-align:left">latitude</td> <td style="text-align:left">Longitud de la Ubicación que se está enviando.</td></tr> <tr><td style="text-align:left">elevation</td> <td style="text-align:left">Elevación de la Ubicación que se está enviando.</td></tr> <tr><td style="text-align:left">updateState</td> <td style="text-align:left">Si es <code>true</code>, actualiza el <code>DeviceState</code> de la asigación.</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-ubicacion-del-dispositivo-con-protocol-buffers"><a href="#enviar-ubicacion-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Ubicación del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una ubicación de dispositivo se muestra a continuación:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendLocation<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementName</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementValue</span><span class="token punctuation">(</span>GOptionalDouble<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">34.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-alertas-del-dispositivo"><a href="#enviar-alertas-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo</h3> <p>SiteWhere admite el almacenamiento de alertas relacionadas con un dispositivo como datos de eventos.</p> <h4 id="enviar-alertas-del-dispositivo-con-json"><a href="#enviar-alertas-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo con JSON</h4> <p>El formato JSON para enviar una alerta de dispositivo se muestra a continuación:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceAlert&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Warning&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Engine overheat.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-03T19:40:03.390Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripción</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceAlert</code></td></tr> <tr><td style="text-align:left">type</td> <td style="text-align:left">Tipo de Alerta <code>Info</code>,<code>Warning</code>,<code>Error</code>,<code>Fatal</code></td></tr> <tr><td style="text-align:left">message</td> <td style="text-align:left">Mensaje asociado a la Alerta</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-alertas-del-dispositivo-con-protocol-buffers"><a href="#enviar-alertas-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una alerta de dispositivo se muestra a continuación:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendAlert<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setAlertType</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;Warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setAlertMessage</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;Engine overheat.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.0.0/docs/es/guide/devices/sending-data.md" target="_blank" rel="noopener noreferrer">Edita esta página en GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Última actualización: </span> <span class="time">2018-12-18 22:00:30</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/2.0.0/es/guide/devices/android.html">
          Programación de Dispositivos Androids con el SDK de SiteWhere
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.0.0/assets/js/17.73956901.js" defer></script><script src="/docs/2.0.0/assets/js/app.dbde8e8e.js" defer></script>
  </body>
</html>
