<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Descripción de los Microservicios | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0 Documentation">
    <link rel="icon" href="/docs/2.0.0/images/favicon.ico">
    
    <link rel="preload" href="/docs/2.0.0/assets/css/0.styles.bf0c8a6a.css" as="style"><link rel="preload" href="/docs/2.0.0/assets/js/app.04163358.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/41.b9c012af.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/4.f1b2303e.js" as="script"><link rel="prefetch" href="/docs/2.0.0/assets/js/25.35768898.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/2.b7022358.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/3.7c04e73a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/5.a0ed5ee7.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/6.be1814f1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/7.9b37627c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/8.3a5b74db.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/9.1ed43cdc.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/10.c0797c16.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/11.18698bc8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/12.c1c781c2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/13.bcdd2953.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/14.ee789dc2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/15.8176ecb8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/16.48231fb8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/17.bb81110e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/18.8eb7ae4f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/19.7743fc47.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/20.976da36e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/21.a78956ea.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/22.f211eb08.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/23.cfdc3c72.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/24.a56de1a3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/26.228dbb1e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/27.44c21935.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/28.54bee051.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/29.b22956fd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/30.f7e78b0a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/31.68e15ec5.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/32.1d0496be.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/33.a67375a0.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/34.1cc512ba.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/35.f712d266.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/36.5068f522.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/37.f26c435a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/38.465e128c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/39.6de841a0.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/40.86c7f148.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/42.07ab691b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/43.57876dba.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/44.ffa21691.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/45.4c5dde47.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/46.589bbefa.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/47.2d561207.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/48.83e86307.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/49.de1ce2b4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/50.4944c492.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/51.df52dd40.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/52.ccce6868.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/53.36660534.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/54.789cf345.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/55.8198a791.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/56.d9601f5a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/57.cba58d0a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/58.21d711ec.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/59.fd71eb15.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/60.5af3a964.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/61.bb905ce2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/62.62e025c6.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/63.06f74e78.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/64.25339834.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/65.5a04d717.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/66.bba90972.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/67.a60c7a7b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/68.c23921ad.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/69.9c85c8bf.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/70.25016d3b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/71.9b886485.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/72.c09c77dd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/73.ad2b5cc9.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/74.3778a1b2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/75.eb1341d1.js">
    <link rel="stylesheet" href="/docs/2.0.0/assets/css/0.styles.bf0c8a6a.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0/es/" class="home-link router-link-active"><img src="/docs/2.0.0/images/logo.svg" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0/es/platform/" class="nav-link router-link-active">Plataforma</a></div><div class="nav-item"><a href="/docs/2.0.0/es/guide/" class="nav-link">Guía del usuario</a></div><div class="nav-item"><a href="/docs/2.0.0/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/docs/2.0.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/platform/microservice-overview.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/platform/microservice-overview.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0/es/platform/" class="nav-link router-link-active">Plataforma</a></div><div class="nav-item"><a href="/docs/2.0.0/es/guide/" class="nav-link">Guía del usuario</a></div><div class="nav-item"><a href="/docs/2.0.0/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/docs/2.0.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/platform/microservice-overview.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/platform/microservice-overview.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0/es/platform/" class="sidebar-link">Plataforma SiteWhere</a></li><li><a href="/docs/2.0.0/es/platform/architecture.html" class="sidebar-link">Arquitectura de SiteWhere</a></li><li><a href="/docs/2.0.0/es/platform/features.html" class="sidebar-link">Características de la Nueva Plataforma 2.0</a></li><li><a href="/docs/2.0.0/es/platform/microservice-overview.html" class="active sidebar-link">Descripción de los Microservicios</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0/es/platform/microservice-overview.html#estructura-de-microservicios" class="sidebar-link">Estructura de Microservicios</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/es/platform/microservice-overview.html#conectividad-intra-microservicios" class="sidebar-link">Conectividad Intra-Microservicios</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/es/platform/microservice-overview.html#components-de-la-infraestructura" class="sidebar-link">Components de la Infraestructura</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/es/platform/microservice-overview.html#lista-de-princiaples-microservicios" class="sidebar-link">Lista de Princiaples Microservicios</a></li></ul></li><li><a href="/docs/2.0.0/es/platform/twelve-factor.html" class="sidebar-link">SiteWhere como una Aplicación Twelve-Factor</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="descripcion-de-los-microservicios"><a href="#descripcion-de-los-microservicios" aria-hidden="true" class="header-anchor">#</a> Descripción de los Microservicios</h1> <p>Una instancia de SiteWhere consta de muchos microservicios, cada uno de los cuales maneja una
pieza específica de funcionalidad. Tras el despliegue, los microservicios se organizan en un
sistema distribuido sobre la infraestructura de Kubernetes. Se utiliza un <em>Helm chart</em> para
configurar la lista de microservicios de SiteWhere y otros componentes que deben iniciarse
para realizar una configuración determinada. Una vez iniciados, los microservicios se
autoensamblan y luego se ponen a disposición de las tareas de procesamiento.</p> <a href="/docs/2.0.0/images/platform/microservices-diagram.png" class="inline-image"><img src="/docs/2.0.0/images/platform/microservices-diagram.png" alt title="Microservices"></a> <h2 id="estructura-de-microservicios"><a href="#estructura-de-microservicios" aria-hidden="true" class="header-anchor">#</a> Estructura de Microservicios</h2> <p>Todos los microservicios de SiteWhere se basan en una biblioteca personalizada definida en
el módulo <a href="https://github.com/sitewhere/sitewhere/tree/sitewhere-2.0.0/sitewhere-microservice" target="_blank" rel="noopener noreferrer">sitewhere-microservice<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
del repositorio central de SiteWhere. Esta biblioteca incluye el código común utilizado
por los microservicios de SiteWhere, incluido el ciclo de vida del servicio, la configuración,
el registro, el descubrimiento del servicio, el rastreo distribuido y otras funcionalidades transversales.</p> <h3 id="aplicacion-spring-boot"><a href="#aplicacion-spring-boot" aria-hidden="true" class="header-anchor">#</a> Aplicación Spring Boot</h3> <p>Los microservicios de SiteWhere se empaquetan como aplicaciones Spring Boot que utilizan una clase
base común <a href="https://github.com/sitewhere/sitewhere/blob/sitewhere-2.0.0/sitewhere-microservice/src/main/java/com/sitewhere/microservice/MicroserviceApplication.java" target="_blank" rel="noopener noreferrer"><code>MicroserviceApplication</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
que estandariza el comportamiento de inicio/apagado del servicio. La aplicación envuelve una subclase de la instancia
de un <a href="https://github.com/sitewhere/sitewhere/blob/sitewhere-2.0.0/sitewhere-microservice/src/main/java/com/sitewhere/microservice/Microservice.java" target="_blank" rel="noopener noreferrer"><code>Microservice</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
que implementa gran parte del comportamiento común, como el ciclo de vida del microservicio, el descubrimiento del servicio,
los servicios Kafka y gRPC comunes, así como enlaces para los comportamientos del ciclo de vida estándar.
Las subclases de microservicio utilizan los distintos ganchos (<em>hooks</em>) para personalizar el ciclo de vida y agregar nuevas funcionalidades.</p> <p>La biblioteca de microservicios de SiteWhere utiliza la configuración del entorno Spring Boot para configurar
diversos aspectos de cada microservicio. La configuración puede sobreescribirse inyectando variables de entorno
al desplegar los microservicios. El <em>Helm chart</em> predeterminado para SiteWhere lo maneja de forma transparente,
pero puede haber casos en que los valores deban ser sobrescritos manualmente. La siguiente tabla cubre la lista
de configuraciones de entorno estándar de toda la instancia:</p> <table><thead><tr><th style="text-align:left">Configuración</th> <th style="text-align:left">Por defecto</th> <th style="text-align:left">Descripción</th></tr></thead> <tbody><tr><td style="text-align:left">sitewhere.product.id</td> <td style="text-align:left">sitewhere</td> <td style="text-align:left">Nombre del nodo de nivel superior en el árbol Zookeeper.</td></tr> <tr><td style="text-align:left">sitewhere.instance.id</td> <td style="text-align:left">sitewhere1</td> <td style="text-align:left">Nombre de instancia utilizado en Zookeeper y Kafka nombre del <em>topic</em>.</td></tr> <tr><td style="text-align:left">sitewhere.instance.template.id</td> <td style="text-align:left">default</td> <td style="text-align:left">Plantilla de gestión de instancias utilizada para inicializar inquilinos y usuarios del sistema.</td></tr> <tr><td style="text-align:left">sitewhere.consul.host</td> <td style="text-align:left">consul</td> <td style="text-align:left">Nombre de host usado para contactar a Consul para el descubrimiento del servicio.</td></tr> <tr><td style="text-align:left">sitewhere.consul.port</td> <td style="text-align:left">8080</td> <td style="text-align:left">Puerto usado para contactar al Cónsul para el descubrimiento del servicio.</td></tr> <tr><td style="text-align:left">sitewhere.zookeeper.host</td> <td style="text-align:left">localhost</td> <td style="text-align:left">Nombre de host usado para contactar a Zookeeper para la configuración.</td></tr> <tr><td style="text-align:left">sitewhere.zookeeper.port</td> <td style="text-align:left">2181</td> <td style="text-align:left">Puerto utilizado para contactar con Zookeeper para la configuración.</td></tr> <tr><td style="text-align:left">sitewhere.kafka.bootstrap.servers</td> <td style="text-align:left">kafka:9092</td> <td style="text-align:left">Lista de servidores Kafka de inicio.</td></tr> <tr><td style="text-align:left">sitewhere.filesystem.storage.root</td> <td style="text-align:left">/var/sitewhere</td> <td style="text-align:left">Raíz del sistema de archivos para microservicios que persisten los datos localmente para el almacenamiento en caché.</td></tr> <tr><td style="text-align:left">sitewhere.grpc.port</td> <td style="text-align:left">9000</td> <td style="text-align:left">Puerto utilizado para exponer API gRPC específicas de microservicio.</td></tr> <tr><td style="text-align:left">sitewhere.management.grpc.port</td> <td style="text-align:left">9001</td> <td style="text-align:left">Puerto utilizado para exponer la interfaz de gestión gRPC.</td></tr> <tr><td style="text-align:left">sitewhere.tracer.server</td> <td style="text-align:left">jaeger</td> <td style="text-align:left">Nombre de host utilizado para publicar la salida de seguimiento distribuido.</td></tr> <tr><td style="text-align:left">sitewhere.log.metrics</td> <td style="text-align:left">false</td> <td style="text-align:left">Indica si las métricas deben registrarse para el microservicio.</td></tr> <tr><td style="text-align:left">sitewhere.k8s.pod.ip</td> <td style="text-align:left">null</td> <td style="text-align:left">Inyectado para que el microservicio sepa su IP de pod Kubernetes.</td></tr></tbody></table> <h3 id="imagen-base-de-docker"><a href="#imagen-base-de-docker" aria-hidden="true" class="header-anchor">#</a> Imagen Base de Docker</h3> <p>Todos los microservicios de SiteWhere se construyen sobre la misma imagen base de Docker para reducir
la sobrecarga de tiempo de ejecución de las imágenes. La imagen <code>openjdk: 8-jre-alpine</code> se usa actualmente
debido a su pequeña huella que incluye el <em>runtime</em> de Java 8 necesario para ejecutar las aplicaciones.
Hay planes futuros para aprovechar las características de Java 9 para reducir aún más los tamaños de imagen
y los requisitos de tiempo de ejecución para los microservicios.</p> <h3 id="utilizacion-de-recursos-del-sistema"><a href="#utilizacion-de-recursos-del-sistema" aria-hidden="true" class="header-anchor">#</a> Utilización de Recursos del Sistema</h3> <p>Actualmente, SiteWhere utiliza alrededor de 20 microservicios, por lo que el hardware subyacente debe ser
compatible con la ejecución de 20 procesos Java simultáneos, cada uno con una huella de memorua de alrededor
de 500 MB. Los requisitos son significativos, aunque la mayoría de las computadoras de escritorio modernas
pueden ejecutar fácilmente un sistema completo. El <em>Helm Chart</em> de SiteWhere Helm incluye un perfil <code>mínimo</code>
que solo carga los microservicios necesarios para reducir los requisitos de recursos. Sin embargo,
la intención de SiteWhere 2.0 es distribuir los componentes del sistema en un grupo de máquinas,
lo que reduce los requisitos de hardware para un solo nodo y aumenta la tolerancia a fallos.</p> <h2 id="conectividad-intra-microservicios"><a href="#conectividad-intra-microservicios" aria-hidden="true" class="header-anchor">#</a> Conectividad Intra-Microservicios</h2> <p>Los microservicios no funcionan en un vacío y, como tal, se necesita un mecanismo RPC de alto
rendimiento para permitir que los servicios se comuniquen. SiteWhere aprovecha <a href="https://grpc.io/" target="_blank" rel="noopener noreferrer">gRPC<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
para mover datos entre microservicios y ofrece API binarias de rendimiento para consumidores externos.
Todas las llamadas a la API y las entidades de datos se han puesto a disposición de gRPC a través de Google
<em>Protocol Buffers</em>. Usar gRPC en lugar de REST para la comunicación puede aumentar el rendimiento de la API en más de 10x.</p> <h3 id="demultiplexores-de-api"><a href="#demultiplexores-de-api" aria-hidden="true" class="header-anchor">#</a> Demultiplexores de API</h3> <p>Las conexiones entre microservicios no siempre son uno a uno. Por ejemplo, si una instancia de SiteWhere tiene un solo
microservicio Web/REST y tres instancias del microservicio de gestión de dispositivos, el microservicio de REST debería
ser capaz de demultiplexar llamadas en las tres instancias de gestión de dispositivos para la escalabilidad y la
tolerancia a fallos. SiteWhere 2.0 introduce el concepto de un demulitplexor de API que puede realizar una
introspección de la topología de instancia actual y agregar/eliminar conexiones a otros microservicios
de forma dinámica. A medida que la cantidad de servicios aumenta o disminuye, SiteWhere conecta/desconecta
automáticamente la tubería entre ellos. Toda la comunicación entre microservicios ocurre a través de este mecanismo.</p> <h3 id="soporte-api-cache"><a href="#soporte-api-cache" aria-hidden="true" class="header-anchor">#</a> Soporte API Cache</h3> <p>Incluso con el alto rendimiento de gRPC, solicitar un uso frecuente de datos repetidamente a través de la
conexión de red tiene un costo significativo. La información maestra para entidades como dispositivos,
asignaciones y activos rara vez se actualiza y puede almacenarse localmente en el microservicio en
lugar de incurrir en el costo de la lectura de la base de datos. SiteWhere 2.0 utiliza un <a href="https://www.ehcache.org/" target="_blank" rel="noopener noreferrer">ehCache<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
para proporcionar un caché local de un subconjunto de datos maestros. Este caché se consulta antes de
recurrir a una solicitud gRPC remota.</p> <h2 id="components-de-la-infraestructura"><a href="#components-de-la-infraestructura" aria-hidden="true" class="header-anchor">#</a> Components de la Infraestructura</h2> <p>Los microservicios de SiteWhere hacen algunas suposiciones sobre la infraestructura subyacente en la que se ejecutan.
Como mínimo, las instancias de <a href="https://zookeeper.apache.org/" target="_blank" rel="noopener noreferrer">Apache ZooKeeper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache Kafka<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
y <a href="https://www.consul.io/" target="_blank" rel="noopener noreferrer">Hashicorp Consul<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> deben estar disponible para que el sistema funcione correctamente.
De forma predeterminada, SiteWhere también produce datos de seguimiento distribuidos a través del estándar
<a href="http://opentracing.io/" target="_blank" rel="noopener noreferrer">OpenTracing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> para el análisis del rendimiento en tiempo de ejecución.
Un servidor backend que soporta la API puede configurarse para almacenar y analizar los datos.</p> <h2 id="lista-de-princiaples-microservicios"><a href="#lista-de-princiaples-microservicios" aria-hidden="true" class="header-anchor">#</a> Lista de Princiaples Microservicios</h2> <p>Para obtener una lista de los microservicios principales incluidos con SiteWhere
y guías detalladas para cada uno, consulte la sección
<a href="/docs/2.0.0/es/guide/microservices/">guías de microservicios</a>.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.0.0/docs/es/platform/microservice-overview.md" target="_blank" rel="noopener noreferrer">Edita esta página en GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Última actualización: </span> <span class="time">2018-12-20 14:15:48</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/2.0.0/es/platform/features.html" class="prev">
          Características de la Nueva Plataforma 2.0
        </a></span> <span class="next"><a href="/docs/2.0.0/es/platform/twelve-factor.html">
          SiteWhere como una Aplicación Twelve-Factor
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.0.0/assets/js/41.b9c012af.js" defer></script><script src="/docs/2.0.0/assets/js/4.f1b2303e.js" defer></script><script src="/docs/2.0.0/assets/js/app.04163358.js" defer></script>
  </body>
</html>
