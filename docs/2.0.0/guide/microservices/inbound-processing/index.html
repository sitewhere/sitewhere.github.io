<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>📖 Inbound Processing Microservice | SiteWhere CE 2.0.0 Documentation</title>
    <meta name="description" content="SiteWhere CE 2.0.0 Documentation">
    <link rel="icon" href="/docs/2.0.0/images/favicon.ico">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel='canonical' href='https://sitewhere.io/docs/2.0.0/guide/microservices/inbound-processing/'>
    
    <link rel="preload" href="/docs/2.0.0/assets/css/0.styles.e917827e.css" as="style"><link rel="preload" href="/docs/2.0.0/assets/js/app.c9c037d7.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/65.0177828d.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/5.48c918e9.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/7.37fdfa1d.js" as="script"><link rel="prefetch" href="/docs/2.0.0/assets/js/28.d8564dc2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/2.93c140d2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/3.f223b840.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/4.0549be39.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/6.7c48419a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/8.a5836359.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/9.ab6df82f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/10.8a566001.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/11.4b6b669e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/12.54246532.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/13.5d33359b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/14.a0d5aea8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/15.539e2fc4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/16.ef58c828.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/17.03d714e4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/18.3825253e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/19.83f6063e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/20.68bdd172.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/21.48f1c1c7.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/22.a237a42e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/23.ff5595b9.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/24.aa884f6d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/25.b200c248.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/26.8f257457.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/27.36c2394d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/29.a8727f29.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/30.ab2b0b75.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/31.a5d6281d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/32.bb233853.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/33.885fe247.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/34.8537cc9a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/35.7a5ef914.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/36.7d965994.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/37.f9c94342.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/38.3d56a18e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/39.0b949aea.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/40.8b755611.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/41.706695a1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/42.24eac7e3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/43.edc82e22.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/44.81dca2bb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/45.3b77806a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/46.ae8099ec.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/47.600e8033.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/48.d4ecb5aa.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/49.e0fd150b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/50.df5eff30.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/51.dc3d77da.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/52.66405da5.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/53.ab45d55b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/54.0dacb7c4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/55.17aaa0f6.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/56.5e2f4562.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/57.0011ebfb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/58.1535ebdb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/59.50349864.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/60.626e4117.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/61.a2650ca2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/62.508acc92.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/63.5b4d8c44.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/64.3a280b8c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/66.bbe67926.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/67.f9822569.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/68.118c1de4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/69.6c628d25.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/70.94ed0980.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/71.efe76cef.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/72.7273cc12.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/73.7c150341.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/74.1cea07de.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/75.098d40eb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/76.0cc9168c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/77.961a455a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/78.eebea747.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/79.fbc1a314.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/80.d70d0305.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/81.3d1c829b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/82.5df3dea3.js">
    <link rel="stylesheet" href="/docs/2.0.0/assets/css/0.styles.e917827e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0/" class="home-link router-link-active"><img src="/docs/2.0.0/images/logo.svg" alt="SiteWhere CE 2.0.0 Documentation" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0/deployment/" class="nav-link">Installation</a></div><div class="nav-item"><a href="/docs/2.0.0/guide/" class="nav-link router-link-active">User Guides</a></div><div class="nav-item"><a href="/docs/2.0.0/development/" class="nav-link">Development</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/guide/microservices/inbound-processing/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0/deployment/" class="nav-link">Installation</a></div><div class="nav-item"><a href="/docs/2.0.0/guide/" class="nav-link router-link-active">User Guides</a></div><div class="nav-item"><a href="/docs/2.0.0/development/" class="nav-link">Development</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/guide/microservices/inbound-processing/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0/guide/microservices/asset-management/" class="sidebar-link">📖 Asset Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/batch-operations/" class="sidebar-link">📖 Batch Operations Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/command-delivery/" class="sidebar-link">📖 Command Delivery Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/device-management/" class="sidebar-link">📖 Device Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/device-registration/" class="sidebar-link">📖 Device Registration Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/device-state/" class="sidebar-link">📖 Device State Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/event-management/" class="sidebar-link">📖 Event Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/event-search/" class="sidebar-link">📖 Event Search Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/event-sources/" class="sidebar-link">📖 Event Sources Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/inbound-processing/" class="active sidebar-link">📖 Inbound Processing Microservice</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0/guide/microservices/inbound-processing/#microservice-dependencies" class="sidebar-link">Microservice Dependencies</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/guide/microservices/inbound-processing/#configuration" class="sidebar-link">Configuration</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/guide/microservices/inbound-processing/#kafka-topics" class="sidebar-link">Kafka Topics</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/guide/microservices/inbound-processing/#runtime-behavior" class="sidebar-link">Runtime Behavior</a></li></ul></li><li><a href="/docs/2.0.0/guide/microservices/instance-management/" class="sidebar-link">📖 Instance Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/label-generation/" class="sidebar-link">📖 Label Generation Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/outbound-connectors/" class="sidebar-link">📖 Outbound Connectors Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/rule-processing/" class="sidebar-link">📖 Rule Processing Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/schedule-management/" class="sidebar-link">📖 Schedule Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/streaming-media/" class="sidebar-link">📖 Streaming Media Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/tenant-management/" class="sidebar-link">📖 Tenant Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/user-management/" class="sidebar-link">📖 User Management Microservice</a></li><li><a href="/docs/2.0.0/guide/microservices/web-rest/" class="sidebar-link">📖 Web/REST Microservice</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="inbound-processing-microservice"><a href="#inbound-processing-microservice" aria-hidden="true" class="header-anchor">#</a> 📖 Inbound Processing Microservice</h1> <span></span> <span class="badge multitenant top" data-v-44bd97e2>Multitenant Microservice</span> <p>The inbound processing microservice handles post-processing of events that have
entered the system via event sources or REST API calls. Events from event sources
are looked up to verify they correspond to a registered device with an active
assignment. This microservice also handles the enrichment of persisted events
by adding device and assignment information to the payload before making it
available to consumers interested in event information.</p> <h2 id="microservice-dependencies"><a href="#microservice-dependencies" aria-hidden="true" class="header-anchor">#</a> Microservice Dependencies</h2> <table><thead><tr><th style="text-align:left">Microservice</th> <th style="text-align:left">Dependency</th></tr></thead> <tbody><tr><td style="text-align:left"><strong><a href="/docs/2.0.0/guide/microservices/instance-management/">Instance Management</a></strong></td> <td style="text-align:left">Required to initially bootstrap Zookeeper data.</td></tr> <tr><td style="text-align:left"><strong><a href="/docs/2.0.0/guide/microservices/device-management/">Device Management</a></strong></td> <td style="text-align:left">Used to enrich inbound events with device data.</td></tr> <tr><td style="text-align:left"><strong><a href="/docs/2.0.0/guide/microservices/event-management/">Event Management</a></strong></td> <td style="text-align:left">Used for persistence of inbound event payloads.</td></tr></tbody></table> <h2 id="configuration"><a href="#configuration" aria-hidden="true" class="header-anchor">#</a> Configuration</h2> <h3 id="configuration-schema"><a href="#configuration-schema" aria-hidden="true" class="header-anchor">#</a> Configuration Schema</h3> <p><a href="https://sitewhere.io/schema/sitewhere/microservice/inbound-processing/current/inbound-processing.xsd" target="_blank" rel="noopener noreferrer">Inbound Processing Configuration XML Schema<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <h4 id="example-configuration"><a href="#example-configuration" aria-hidden="true" class="header-anchor">#</a> Example Configuration</h4> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token prolog">&lt;?xml version=&quot;1.0&quot; encoding=&quot;UTF-8&quot;?&gt;</span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>beans</span> <span class="token attr-name">xmlns</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/beans<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xmlns:</span>sw</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://sitewhere.io/schema/sitewhere/microservice/common<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xmlns:</span>xsi</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.w3.org/2001/XMLSchema-instance<span class="token punctuation">&quot;</span></span> <span class="token attr-name"><span class="token namespace">xmlns:</span>context</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://www.springframework.org/schema/context<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xmlns:</span>ip</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>http://sitewhere.io/schema/sitewhere/microservice/inbound-processing<span class="token punctuation">&quot;</span></span>
	<span class="token attr-name"><span class="token namespace">xsi:</span>schemaLocation</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>
           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd
           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd
           http://www.springframework.org/schema/security http://www.springframework.org/schema/security/spring-security-3.0.xsd
           http://sitewhere.io/schema/sitewhere/microservice/common http://sitewhere.io/schema/sitewhere/microservice/common/current/microservice-common.xsd
           http://sitewhere.io/schema/sitewhere/microservice/inbound-processing http://sitewhere.io/schema/sitewhere/microservice/inbound-processing/current/inbound-processing.xsd<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>

	<span class="token comment">&lt;!-- Allow property placeholder substitution --&gt;</span>
	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">context:</span>property-placeholder</span> <span class="token punctuation">/&gt;</span></span>

	<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span><span class="token namespace">ip:</span>inbound-processing</span> <span class="token attr-name">processingThreadCount</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>25<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>beans</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="kafka-topics"><a href="#kafka-topics" aria-hidden="true" class="header-anchor">#</a> Kafka Topics</h2> <p>The following Kafka topics are used to interact with the event processing pipeline.
For multitenant microservices, topic names are specific to the tenant whose data
they contain and have a standardized format as shown below:</p> <span class="badge multitenant top" data-v-44bd97e2>Product Id</span>. <span class="badge multitenant top" data-v-44bd97e2>Instance Id</span>. tenant . <span class="badge multitenant top" data-v-44bd97e2>Tenant UUID</span>. <span class="badge multitenant top" data-v-44bd97e2>Topic Name</span> <p>For example, a valid topic name might be:</p> <p><em>sitewhere.sitewhere1.tenant.53daebb2-8b54-4031-a4b9-29e3fc04b4be.event-source-decoded-events</em></p> <table><thead><tr><th style="text-align:left">Topic Name</th> <th style="text-align:left">Relation</th> <th style="text-align:left">Content</th></tr></thead> <tbody><tr><td style="text-align:left">event-source-decoded-events</td> <td style="text-align:left">Consumer</td> <td style="text-align:left">Non-enriched events which have been decoded by event sources.</td></tr> <tr><td style="text-align:left">inbound-reprocess-events</td> <td style="text-align:left">Consumer</td> <td style="text-align:left">Non-enriched events which are queued for reprocessing.</td></tr> <tr><td style="text-align:left">inbound-persisted-events</td> <td style="text-align:left">Consumer</td> <td style="text-align:left">Events which have been persisted via event sources or REST APIs.</td></tr> <tr><td style="text-align:left">inbound-unregistered-device-events</td> <td style="text-align:left">Producer</td> <td style="text-align:left">Contains events for devices not registered in the system.</td></tr> <tr><td style="text-align:left">inbound-enriched-events</td> <td style="text-align:left">Producer</td> <td style="text-align:left">Events which have been enriched with device/assignment information.</td></tr> <tr><td style="text-align:left">inbound-enriched-command-invocations</td> <td style="text-align:left">Producer</td> <td style="text-align:left">Command invocations which have been enriched with device/assignment information.</td></tr></tbody></table> <h2 id="runtime-behavior"><a href="#runtime-behavior" aria-hidden="true" class="header-anchor">#</a> Runtime Behavior</h2> <h3 id="inbound-event-processing-logic"><a href="#inbound-event-processing-logic" aria-hidden="true" class="header-anchor">#</a> Inbound Event Processing Logic</h3> <h4 id="validation-of-events-from-event-sources"><a href="#validation-of-events-from-event-sources" aria-hidden="true" class="header-anchor">#</a> Validation of Events from Event Sources</h4> <p>The inbound processing microservice ingests data that was produced by the
<a href="/docs/2.0.0/guide/microservices/inbound-processing/event-sources.html">event sources</a> microservice after decoding and deduplication
has completed. The inbound data is validated by interacting with the
<a href="/docs/2.0.0/guide/microservices/inbound-processing/device-management.html">device management</a> microservice to verify that
the inbound event relates to a registered device with an active device assignment.</p> <h4 id="handling-of-unregistered-devices"><a href="#handling-of-unregistered-devices" aria-hidden="true" class="header-anchor">#</a> Handling of Unregistered Devices</h4> <p>If an event is found not to have a corresponding registered device with an
active assignment, the payload is passed to the <a href="/docs/2.0.0/guide/microservices/inbound-processing/device-registration.html">device registration</a>
microservice for additional processing. If the device becomes registered as a result,
the event is pushed onto a re-processing topic so that it may be processed again with
the newly registered device.</p> <h4 id="persistence-of-event-source-data"><a href="#persistence-of-event-source-data" aria-hidden="true" class="header-anchor">#</a> Persistence of Event Source Data</h4> <p>After initial validation, event data is persisted via the event persistence
APIs. Once event storage is complete, the <a href="/docs/2.0.0/guide/microservices/inbound-processing/event-management.html">event management</a>
microservice adds persisted events to a topic which is consumed by the inbound
processing microservice. This allows for combined handling of both data from
event sources and data added via the REST APIs. The persisted payload is enriched
with device/assignment data so the information may be used by subsequent processing
steps without the need to look it up again. The resulting payload is pushed to
a Kafka topic that contains events which have been persisted and enriched so that
they may be processed by other microservices.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.0.0/docs/guide/microservices/inbound-processing/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/27/2019, 12:27:25 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/2.0.0/guide/microservices/event-sources/" class="prev">
          📖 Event Sources Microservice
        </a></span> <span class="next"><a href="/docs/2.0.0/guide/microservices/instance-management/">
          📖 Instance Management Microservice
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.0.0/assets/js/65.0177828d.js" defer></script><script src="/docs/2.0.0/assets/js/5.48c918e9.js" defer></script><script src="/docs/2.0.0/assets/js/7.37fdfa1d.js" defer></script><script src="/docs/2.0.0/assets/js/app.c9c037d7.js" defer></script>
  </body>
</html>
