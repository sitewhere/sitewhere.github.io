<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Microservices Overview | SiteWhere CE 2.0.0 Documentation</title>
    <meta name="description" content="SiteWhere CE 2.0.0 Documentation">
    <link rel="icon" href="/docs/2.0.0/images/favicon.ico">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel='canonical' href='https://sitewhere.io/docs/2.0.0/platform/microservice-overview.html'>
    
    <link rel="preload" href="/docs/2.0.0/assets/css/0.styles.e917827e.css" as="style"><link rel="preload" href="/docs/2.0.0/assets/js/app.c9c037d7.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/78.eebea747.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/7.37fdfa1d.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/6.7c48419a.js" as="script"><link rel="prefetch" href="/docs/2.0.0/assets/js/28.d8564dc2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/2.93c140d2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/3.f223b840.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/4.0549be39.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/5.48c918e9.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/8.a5836359.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/9.ab6df82f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/10.8a566001.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/11.4b6b669e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/12.54246532.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/13.5d33359b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/14.a0d5aea8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/15.539e2fc4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/16.ef58c828.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/17.03d714e4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/18.3825253e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/19.83f6063e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/20.68bdd172.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/21.48f1c1c7.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/22.a237a42e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/23.ff5595b9.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/24.aa884f6d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/25.b200c248.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/26.8f257457.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/27.36c2394d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/29.a8727f29.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/30.ab2b0b75.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/31.a5d6281d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/32.bb233853.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/33.885fe247.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/34.8537cc9a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/35.7a5ef914.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/36.7d965994.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/37.f9c94342.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/38.3d56a18e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/39.0b949aea.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/40.8b755611.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/41.706695a1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/42.24eac7e3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/43.edc82e22.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/44.81dca2bb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/45.3b77806a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/46.ae8099ec.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/47.600e8033.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/48.d4ecb5aa.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/49.e0fd150b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/50.df5eff30.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/51.dc3d77da.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/52.66405da5.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/53.ab45d55b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/54.0dacb7c4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/55.17aaa0f6.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/56.5e2f4562.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/57.0011ebfb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/58.1535ebdb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/59.50349864.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/60.626e4117.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/61.a2650ca2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/62.508acc92.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/63.5b4d8c44.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/64.3a280b8c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/65.0177828d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/66.bbe67926.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/67.f9822569.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/68.118c1de4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/69.6c628d25.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/70.94ed0980.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/71.efe76cef.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/72.7273cc12.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/73.7c150341.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/74.1cea07de.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/75.098d40eb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/76.0cc9168c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/77.961a455a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/79.fbc1a314.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/80.d70d0305.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/81.3d1c829b.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/82.5df3dea3.js">
    <link rel="stylesheet" href="/docs/2.0.0/assets/css/0.styles.e917827e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0/" class="home-link router-link-active"><img src="/docs/2.0.0/images/logo.svg" alt="SiteWhere CE 2.0.0 Documentation" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0/platform/" class="nav-link router-link-active">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0/deployment/" class="nav-link">Installation</a></div><div class="nav-item"><a href="/docs/2.0.0/guide/" class="nav-link">User Guides</a></div><div class="nav-item"><a href="/docs/2.0.0/development/" class="nav-link">Development</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/platform/microservice-overview.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/platform/microservice-overview.html" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0/platform/" class="nav-link router-link-active">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0/deployment/" class="nav-link">Installation</a></div><div class="nav-item"><a href="/docs/2.0.0/guide/" class="nav-link">User Guides</a></div><div class="nav-item"><a href="/docs/2.0.0/development/" class="nav-link">Development</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/platform/microservice-overview.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/platform/microservice-overview.html" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0/platform/" class="sidebar-link">SiteWhere Platform</a></li><li><a href="/docs/2.0.0/platform/architecture.html" class="sidebar-link">System Architecture</a></li><li><a href="/docs/2.0.0/platform/objectmodel.html" class="sidebar-link">Domain Object Model</a></li><li><a href="/docs/2.0.0/platform/features.html" class="sidebar-link">New Features</a></li><li><a href="/docs/2.0.0/platform/microservice-overview.html" class="active sidebar-link">Microservices Overview</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0/platform/microservice-overview.html#microservice-structure" class="sidebar-link">Microservice Structure</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/platform/microservice-overview.html#inter-microservice-connectivity" class="sidebar-link">Inter-Microservice Connectivity</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/platform/microservice-overview.html#infrastructure-components" class="sidebar-link">Infrastructure Components</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/platform/microservice-overview.html#list-of-core-microservices" class="sidebar-link">List of Core Microservices</a></li></ul></li><li><a href="/docs/2.0.0/platform/twelve-factor.html" class="sidebar-link">SiteWhere as a Twelve-Factor App</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="microservices-overview"><a href="#microservices-overview" aria-hidden="true" class="header-anchor">#</a> Microservices Overview</h1> <span></span> <p>A SiteWhere instance is comprised of many microservices, each handling a
specific piece of functionality. Upon deployment, the microservices
are orchestrated into a distributed system on top of the Kubernetes
infrastucture. A Helm chart is used to configure the list of SiteWhere
microservices and other components which need to be started in order to
realize a given configuration. Once started, the microservices self-assemble
and then make themselves available for processing tasks.</p> <div id="msdiagram" class="shadow" style="margin-top:50px;" data-v-541db3e4></div> <h2 id="microservice-structure"><a href="#microservice-structure" aria-hidden="true" class="header-anchor">#</a> Microservice Structure</h2> <p>All SiteWhere microservices are based on a custom library defined in
the <a href="https://github.com/sitewhere/sitewhere/tree/sitewhere-2.0.0/sitewhere-microservice" target="_blank" rel="noopener noreferrer">sitewhere-microservice<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
module of the core SiteWhere repository. This library includes the common
code used for SiteWhere microservices including service lifecycle, configuration,
logging, service discovery, distributed tracing, and other cross-cutting concerns.</p> <h3 id="spring-boot-application"><a href="#spring-boot-application" aria-hidden="true" class="header-anchor">#</a> Spring Boot Application</h3> <p>SiteWhere microservices are packaged as Spring Boot applications which use a common
base class <a href="https://github.com/sitewhere/sitewhere/blob/sitewhere-2.0.0/sitewhere-microservice/src/main/java/com/sitewhere/microservice/MicroserviceApplication.java" target="_blank" rel="noopener noreferrer"><code>MicroserviceApplication</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> that standardizes the service startup/shutdown
behavior. The application wraps an instance of a <a href="https://github.com/sitewhere/sitewhere/blob/sitewhere-2.0.0/sitewhere-microservice/src/main/java/com/sitewhere/microservice/Microservice.java" target="_blank" rel="noopener noreferrer"><code>Microservice</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> subclass
which implements much of the common behavior such as microservice lifecycle,
service discovery, common Kafka and gRPC services, as well as hooks for
the standard lifecycle behaviors. Microservice subclasses use the
various hooks to customize the lifecycle to add new functionality.</p> <p>The SiteWhere microservice library uses Spring Boot environment settings
to configure various aspects of each microservice. The settings may be overridden
by injecting environment variables when deploying the microservices. The default
Helm chart for SiteWhere handles this transparently, but there may be cases
where the values need to be overridden manually. The table below covers the list of
standard instance-wide environment settings:</p> <table><thead><tr><th style="text-align:left">Setting</th> <th style="text-align:left">Default</th> <th style="text-align:left">Description</th></tr></thead> <tbody><tr><td style="text-align:left">sitewhere.product.id</td> <td style="text-align:left">sitewhere</td> <td style="text-align:left">Name of top-level node in Zookeeper tree</td></tr> <tr><td style="text-align:left">sitewhere.instance.id</td> <td style="text-align:left">sitewhere1</td> <td style="text-align:left">Instance name used in Zookeeper and Kafka topic naming</td></tr> <tr><td style="text-align:left">sitewhere.instance.template.id</td> <td style="text-align:left">default</td> <td style="text-align:left">Template from instance management used to initialize system tenants and users</td></tr> <tr><td style="text-align:left">sitewhere.consul.host</td> <td style="text-align:left">consul</td> <td style="text-align:left">Hostname used to contact Consul for service discovery</td></tr> <tr><td style="text-align:left">sitewhere.consul.port</td> <td style="text-align:left">8080</td> <td style="text-align:left">Port used to contact Consul for service discovery</td></tr> <tr><td style="text-align:left">sitewhere.zookeeper.host</td> <td style="text-align:left">localhost</td> <td style="text-align:left">Hostname used to contact Zookeeper for configuration</td></tr> <tr><td style="text-align:left">sitewhere.zookeeper.port</td> <td style="text-align:left">2181</td> <td style="text-align:left">Port used to contact Zookeeper for configuration</td></tr> <tr><td style="text-align:left">sitewhere.kafka.bootstrap.servers</td> <td style="text-align:left">kafka:9092</td> <td style="text-align:left">Kafka bootstrap servers list</td></tr> <tr><td style="text-align:left">sitewhere.filesystem.storage.root</td> <td style="text-align:left">/var/sitewhere</td> <td style="text-align:left">File system root for microservices that persist data locally for caching</td></tr> <tr><td style="text-align:left">sitewhere.grpc.port</td> <td style="text-align:left">9000</td> <td style="text-align:left">Port used to expose microservice-specific gRPC APIs</td></tr> <tr><td style="text-align:left">sitewhere.management.grpc.port</td> <td style="text-align:left">9001</td> <td style="text-align:left">Port used to expose gRPC management interface</td></tr> <tr><td style="text-align:left">sitewhere.tracer.server</td> <td style="text-align:left">jaeger</td> <td style="text-align:left">Hostname used for publishing distributed tracing output</td></tr> <tr><td style="text-align:left">sitewhere.log.metrics</td> <td style="text-align:left">false</td> <td style="text-align:left">Indicates whether metrics should be logged for microservice</td></tr> <tr><td style="text-align:left">sitewhere.k8s.pod.ip</td> <td style="text-align:left">null</td> <td style="text-align:left">Injected to let microservice know its Kubernetes pod IP</td></tr></tbody></table> <h3 id="base-docker-image"><a href="#base-docker-image" aria-hidden="true" class="header-anchor">#</a> Base Docker Image</h3> <p>All SiteWhere microservices are built on top of the same base Docker image to
lower the runtime overhead of the images. The <code>openjdk:8-jre-alpine</code> image is
currently used due to its small footprint which includes the Java 8 runtime
needed to execute the applications. There are future plans to leverage features
of Java 9 to further reduce the image sizes and runtime requirements for
the microservices.</p> <h3 id="system-resource-usage"><a href="#system-resource-usage" aria-hidden="true" class="header-anchor">#</a> System Resource Usage</h3> <p>SiteWhere currently uses around 20 microservices, so the underlying hardware should be
able to support running 20 concurrent Java processes, each with a footprint of around
500MB. The requirements are significant, though most modern desktop computers can easily
run a complete system. The SiteWhere Helm chart includes a <code>minimal</code> profile which
only loads the required microservices in order to lower the resource requirements.
However, the intent for SiteWhere 2.0 is to distribute the system components
across a cluster of machines, which lowers the hardware requirements
for a single node and increases fault-tolerance.</p> <h2 id="inter-microservice-connectivity"><a href="#inter-microservice-connectivity" aria-hidden="true" class="header-anchor">#</a> Inter-Microservice Connectivity</h2> <p>Microservices do not operate in a vacuum and, as such, a high-performance RPC mechanism
is needed to allow the services to communicate. SiteWhere leverages <a href="https://grpc.io/" target="_blank" rel="noopener noreferrer">gRPC<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
for moving data between microservices and offers performant binary APIs to external consumers.
All API calls and data entities have been made available to gRPC via the Google
Protocol Buffers data format. Using gRPC rather than REST for communication can increase API
performance by more than 10x.</p> <h3 id="api-demultiplexors"><a href="#api-demultiplexors" aria-hidden="true" class="header-anchor">#</a> API Demultiplexors</h3> <p>Connections between microservices are not always one-to-one. For instance, if a SiteWhere instance
has a single Web/REST microservice and three instances of the Device Management microservice, the
REST microservice should be able to demultiplex calls across all three Device Management instances
for scalability and fault tolerance. SiteWhere 2.0 introduces the concept of an API demulitplexor
which is able to introspect the current instance topology and add/remove connections to other
microservices dynamically. As the number of services is scaled up/down SiteWhere automatically
connects/disconnects the piping between them. All inter-microservice communication happens via
this mechanism.</p> <h3 id="api-cache-support"><a href="#api-cache-support" aria-hidden="true" class="header-anchor">#</a> API Cache Support</h3> <p>Even with the high performance of gRPC, requesting commonly used data repeatedly across
the network connection has a significant cost. Master information for entites such as devices,
assignments, and assets is rarely updated and may be cached locally in the microservice
rather than incurring the cost of reading from the database. SiteWhere 2.0 uses a ehCache
to provide a local cache of a subset of master data. This cache is queried before
falling back to a remote gRPC request.</p> <h2 id="infrastructure-components"><a href="#infrastructure-components" aria-hidden="true" class="header-anchor">#</a> Infrastructure Components</h2> <p>SiteWhere microservices make a few assumptions about the underlying infrastructure
that they are running on. At a minimum, instances of
<a href="https://zookeeper.apache.org/" target="_blank" rel="noopener noreferrer">Apache ZooKeeper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, <a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache Kafka<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and
<a href="https://www.consul.io/" target="_blank" rel="noopener noreferrer">Hashicorp Consul<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> must be available in order for the system
to function properly. By default, SiteWhere also produces distributed tracing data via the
<a href="http://opentracing.io/" target="_blank" rel="noopener noreferrer">open tracing<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> standard for runtime performance analysis.
A server backend that supports the API may be configured to store and analyze the data.</p> <h2 id="list-of-core-microservices"><a href="#list-of-core-microservices" aria-hidden="true" class="header-anchor">#</a> List of Core Microservices</h2> <p>For a list of the core microservices included with SiteWhere and detailed guides for each,
see the <a href="/docs/2.0.0/guide/microservices/">microservice guides</a> section.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.0.0/docs/platform/microservice-overview.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">1/15/2019, 2:32:43 AM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/2.0.0/platform/features.html" class="prev">
          New Features
        </a></span> <span class="next"><a href="/docs/2.0.0/platform/twelve-factor.html">
          SiteWhere as a Twelve-Factor App
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.0.0/assets/js/78.eebea747.js" defer></script><script src="/docs/2.0.0/assets/js/7.37fdfa1d.js" defer></script><script src="/docs/2.0.0/assets/js/6.7c48419a.js" defer></script><script src="/docs/2.0.0/assets/js/app.c9c037d7.js" defer></script>
  </body>
</html>
