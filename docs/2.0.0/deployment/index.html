<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SiteWhere Deployment Guide | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0 Documentation">
    <link rel="icon" href="/docs/2.0.0/images/favicon.ico">
    
    <link rel="preload" href="/docs/2.0.0/assets/css/0.styles.523cf4aa.css" as="style"><link rel="preload" href="/docs/2.0.0/assets/js/app.468dd2aa.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/6.1266e963.js" as="script"><link rel="preload" href="/docs/2.0.0/assets/js/4.856fab00.js" as="script"><link rel="prefetch" href="/docs/2.0.0/assets/js/23.64d6b7fb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/2.51a7a63e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/3.1a822c12.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/5.b1805555.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/7.b502a43e.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/8.93dea270.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/9.f464343f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/10.02662cf0.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/11.33aa63b2.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/12.f8234bd4.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/13.7cee05b0.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/14.be2f73f3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/15.d386e8c3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/16.46b16051.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/17.3db31210.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/18.0cce520a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/19.122bfc02.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/20.00c3ccfa.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/21.eabf459f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/22.d682160c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/24.b476dabb.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/25.d173712d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/26.be2fb0b9.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/27.91d4e87d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/28.09f588e1.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/29.26678fdf.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/30.81cca1a0.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/31.168ae757.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/32.c34215ee.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/33.9e17408a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/34.c5db86ae.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/35.bcc9b234.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/36.33ea8922.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/37.2ebda301.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/38.cc245218.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/39.992db8aa.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/40.6492af7a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/41.63664d80.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/42.e8dc10e8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/43.09f4fcbd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/44.b2a2cef3.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/45.d04fda16.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/46.71e4a747.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/47.982327d8.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/48.d2acf239.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/49.2cd6201f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/50.077538ce.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/51.7c5d767d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/52.5388990c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/53.dba25b3d.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/54.201c3042.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/55.73133064.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/56.86fe5251.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/57.defb81ce.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/58.601d4465.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/59.a85e896f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/60.b7183a1f.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/61.07d4c618.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/62.bb6e2f90.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/63.6f6ee8fd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/64.9f05d355.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/65.100b14f5.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/66.207d06a5.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/67.0b8377dd.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/68.3a35764c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/69.bd6da76a.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/70.62f9c85c.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/71.5af6f675.js"><link rel="prefetch" href="/docs/2.0.0/assets/js/72.df49808c.js">
    <link rel="stylesheet" href="/docs/2.0.0/assets/css/0.styles.523cf4aa.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0/" class="home-link router-link-active"><img src="/docs/2.0.0/images/logo.svg" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0/guide/" class="nav-link">User Guide</a></div><div class="nav-item"><a href="/docs/2.0.0/deployment/" class="nav-link router-link-exact-active router-link-active">Deployment</a></div><div class="nav-item"><a href="/docs/2.0.0/development/" class="nav-link">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/deployment/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/deployment/" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0/guide/" class="nav-link">User Guide</a></div><div class="nav-item"><a href="/docs/2.0.0/deployment/" class="nav-link router-link-exact-active router-link-active">Deployment</a></div><div class="nav-item"><a href="/docs/2.0.0/development/" class="nav-link">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0/deployment/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0/es/deployment/" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0/deployment/" class="active sidebar-link">SiteWhere Deployment Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#system-requirements" class="sidebar-link">System Requirements</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#install-kubernetes" class="sidebar-link">Install Kubernetes</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#install-helm" class="sidebar-link">Install Helm</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#pull-sitewhere-kubernetes-repository" class="sidebar-link">Pull SiteWhere Kubernetes Repository</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#install-rook" class="sidebar-link">Install Rook</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#install-sitewhere" class="sidebar-link">Install SiteWhere</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#monitor-sitewhere-services" class="sidebar-link">Monitor SiteWhere Services</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#run-the-administrative-application" class="sidebar-link">Run the Administrative Application</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#remove-sitewhere" class="sidebar-link">Remove SiteWhere</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0/deployment/#uninstall-rook" class="sidebar-link">Uninstall Rook</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="sitewhere-deployment-guide"><a href="#sitewhere-deployment-guide" aria-hidden="true" class="header-anchor">#</a> SiteWhere Deployment Guide</h1> <p>This guide covers the SiteWhere 2.0 deployment process which has changed
significantly from the one used for SiteWhere 1.x. While previous versions
of SiteWhere were deployed as a single server node, the SiteWhere 2.0
architecture is based on many microservices which are deployed into a
<a href="https://https://kubernetes.io" target="_blank" rel="noopener noreferrer">Kubernetes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> infrastructure.</p> <h2 id="system-requirements"><a href="#system-requirements" aria-hidden="true" class="header-anchor">#</a> System Requirements</h2> <p>Because SiteWhere 2.0 uses a microservices architecture, the number of
processes running concurrently has increased, which in turn requires
more memory and processing power. The minimum hardware specifications
for a single node Kubernetes cluster running a SiteWhere instance is:</p> <table><thead><tr><th>Resource</th> <th>Min Value</th></tr></thead> <tbody><tr><td>Memory</td> <td>16GB RAM</td></tr> <tr><td>CPU</td> <td>4 CPUs</td></tr> <tr><td>Hard Disk/SSD</td> <td>100GB</td></tr></tbody></table> <p>In most real-world deployment scenarios, a multi-node Kubernetes cluster
will be used so that the system can be made highly available. In cases
where microservices are distributed across multiple k8s nodes,
the per-node requirements can be adjusted based on the number of
microservices per node (generally 500MB of memory per microservice).</p> <h2 id="install-kubernetes"><a href="#install-kubernetes" aria-hidden="true" class="header-anchor">#</a> Install Kubernetes</h2> <p>SiteWhere 2.0 uses Kubernetes as a production-grade container orchestration solution
which may be installed both locally/on-premise and in all major cloud environments.
Kubernetes clusters are available as a service on
<a href="https://cloud.google.com/kubernetes-engine/" target="_blank" rel="noopener noreferrer">Google Cloud<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="https://aws.amazon.com/eks/" target="_blank" rel="noopener noreferrer">Amazon AWS<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="https://azure.microsoft.com/en-us/services/kubernetes-service/" target="_blank" rel="noopener noreferrer">Azure<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and
most of the other cloud providers.</p> <h3 id="installing-a-single-node-development-environment"><a href="#installing-a-single-node-development-environment" aria-hidden="true" class="header-anchor">#</a> Installing a Single-Node Development Environment</h3> <p>A single-node Kubernetes cluster may be deployed for SiteWhere development
and testing. Depending on the underlying operating system used, there are
a few options for running a local k8s instance.</p> <h4 id="using-docker-kubernetes-integration"><a href="#using-docker-kubernetes-integration" aria-hidden="true" class="header-anchor">#</a> Using Docker/Kubernetes Integration</h4> <p><a href="https://www.docker.com/" target="_blank" rel="noopener noreferrer">Docker<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> provides the default container implementation
used by most Kubernetes providers. The Docker ecosystem has embraced Kubernetes
and offers out-of-the-box support for running a single-node instance via
their <a href="https://docs.docker.com/v17.09/docker-for-windows/install/" target="_blank" rel="noopener noreferrer">Docker for Windows<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
and <a href="https://docs.docker.com/v17.09/docker-for-mac/install/" target="_blank" rel="noopener noreferrer">Docker for Mac<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
offerings. After installing the core Docker components, Kubernetes support
may be enabled directly from within the Docker settings. For most users, this
is the fastest path to getting a local Kubernetes environment running. For more
details see <a href="https://blog.docker.com/2018/07/kubernetes-is-now-available-in-docker-desktop-stable-channel/" target="_blank" rel="noopener noreferrer">this blog<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
from the Docker team.</p> <h4 id="using-minikube"><a href="#using-minikube" aria-hidden="true" class="header-anchor">#</a> Using Minikube</h4> <p><a href="https://github.com/kubernetes/minikube" target="_blank" rel="noopener noreferrer">Minikube<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is a tool that makes it easy
to run a single-node Kubernetes cluster inside a virtual machine. Environments supported
include <a href="https://www.virtualbox.org/" target="_blank" rel="noopener noreferrer">VirtualBox<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>,
<a href="https://www.vmware.com/products/fusion.html" target="_blank" rel="noopener noreferrer">VMware Fusion<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
and many others. For complete instuctions on installing/deploying Minikube
see their <a href="https://kubernetes.io/docs/setup/minikube/" target="_blank" rel="noopener noreferrer">setup guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h4 id="more-options"><a href="#more-options" aria-hidden="true" class="header-anchor">#</a> More Options</h4> <p>For a complete list of other options for deploying Kubernetes, see the
<a href="https://kubernetes.io/docs/setup/" target="_blank" rel="noopener noreferrer">Kubernetes Setup Guide<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="install-helm"><a href="#install-helm" aria-hidden="true" class="header-anchor">#</a> Install Helm</h2> <p>The preferred method of deploying a SiteWhere 2.0 instance to a running Kubernetes
Cluster is by using <a href="https://helm.sh/" target="_blank" rel="noopener noreferrer">Helm<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, which supports a streamlined,
configurable deployment process. SiteWhere provides Helm
<a href="https://github.com/sitewhere/sitewhere-k8s/tree/master/charts" target="_blank" rel="noopener noreferrer">charts<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> which
can be used to bootstrap the system in various configurations depending
on the profiles and other configuration options selected.</p> <p>In order to deploy SiteWhere, Helm needs to be installed. Follow
<a href="https://docs.helm.sh/using_helm/#installing-helm" target="_blank" rel="noopener noreferrer">these<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> instructions to install
Helm in your environment.</p> <h2 id="pull-sitewhere-kubernetes-repository"><a href="#pull-sitewhere-kubernetes-repository" aria-hidden="true" class="header-anchor">#</a> Pull SiteWhere Kubernetes Repository</h2> <p>In order to make the process of installing the various SiteWhere infrastructure
components easier, a separate <a href="https://github.com/sitewhere/sitewhere-k8s" target="_blank" rel="noopener noreferrer">repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
is made available for the various k8s artifacts.</p> <h3 id="clone-the-repository"><a href="#clone-the-repository" aria-hidden="true" class="header-anchor">#</a> Clone the Repository</h3> <p>Using a <a href="https://git-scm.com/" target="_blank" rel="noopener noreferrer">Git<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> client, clone the repository to the machine
where you have the Kubernetes environment configured. The repository can be cloned
with the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>git clone https://github.com/sitewhere/sitewhere-k8s.git
</code></pre></div><p>Once the repository has been cloned, navigate into the <strong>sitewhere-k8s/charts</strong>
subdirectory. This directory contains Helm Charts and Kubernetes resources for SiteWhere
deployment scenarios.</p> <h2 id="install-rook"><a href="#install-rook" aria-hidden="true" class="header-anchor">#</a> Install Rook</h2> <p>In order to support multi-node persistent storage for SiteWhere infrastucture components
such as Kafka, Zookeeper, and the various database technologies, a distributed
storage system such as <a href="https://ceph.com/" target="_blank" rel="noopener noreferrer">Ceph<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> should be used. The
<a href="https://rook.io" target="_blank" rel="noopener noreferrer">Rook<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> project supports a streamlined process for deploying
Ceph in a Kubernetes environment, allowing for scalable, reliable persistent
storage that may be used directly from standard k8s storage APIs.</p> <p>By executing the following list of commands, a Rook cluster will be bootstrapped
and made available for use by SiteWhere.</p> <div class="language- extra-class"><pre class="language-text"><code>kubectl create -f rook/operator.yaml
kubectl create -f rook/cluster.yaml
kubectl create -f rook/storageclass.yaml
</code></pre></div><p>Note that the Rook components allow persistent information such as databases
or other system state to be kept outside of the SiteWhere instance. SiteWhere
uses k8s <a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener noreferrer">persistent volumes<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
to create references to the persistent data which is made available across the k8s
cluster in a replicated, highly-available fashion and lives beyond system restarts.
The underlying data is only deleted if the PVCs/PVs are manually deleted.</p> <h2 id="install-sitewhere"><a href="#install-sitewhere" aria-hidden="true" class="header-anchor">#</a> Install SiteWhere</h2> <p>To install SiteWhere with the default configuration (including all microservices and
the default infrastructure components) run:</p> <div class="language- extra-class"><pre class="language-text"><code>helm install --name sitewhere ./sitewhere
</code></pre></div><h3 id="running-with-constrained-resources"><a href="#running-with-constrained-resources" aria-hidden="true" class="header-anchor">#</a> Running with Constrained Resources</h3> <p>If you wish to run SiteWhere in a low resource cluster, use the <em>minimal</em> profile
with the Helm Chart to only install the core microservices required to bootstrap
the system:</p> <div class="language- extra-class"><pre class="language-text"><code>helm install --name sitewhere --set services.profile=minimal ./sitewhere
</code></pre></div><p>In this configuration, some services will not be available and the corresponding
APIs will return error codes indicating that requests for the service can not
be satisfied.</p> <h3 id="running-with-host-storage"><a href="#running-with-host-storage" aria-hidden="true" class="header-anchor">#</a> Running with Host Storage</h3> <p>If you don't need Rook.io, you can skip the Rook.io install and install
SiteWhere Helm Chart setting the <code>persistence.storageClass</code> property to
other than <code>rook-ceph-block</code>, for example to use <code>hostpath</code> Persistence
Storage Class, use the following command:</p> <div class="language- extra-class"><pre class="language-text"><code>helm install --name sitewhere --set persistence.storageClass=hostpath ./sitewhere
</code></pre></div><h3 id="install-sitewhere-from-sitewhere-repository"><a href="#install-sitewhere-from-sitewhere-repository" aria-hidden="true" class="header-anchor">#</a> Install SiteWhere from SiteWhere Repository</h3> <p>You can also install SiteWhere helm charts from SiteWhere Helm Repository. To do this
you need to add the <a href="https://sitewhere.io/helm-charts" target="_blank" rel="noopener noreferrer">SiteWhere Helm Repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> to
your helm client.</p> <div class="language-sh extra-class"><pre class="language-text"><code>helm repo add sitewhere https://sitewhere.io/helm-charts
</code></pre></div><p>Then you need to update your local helm repository</p> <div class="language-sh extra-class"><pre class="language-text"><code>helm repo update
</code></pre></div><h3 id="install-chart"><a href="#install-chart" aria-hidden="true" class="header-anchor">#</a> Install Chart</h3> <p>To install the chart with the release name <code>sitewhere</code> execute:</p> <div class="language-sh extra-class"><pre class="language-text"><code>helm install --name sitewhere sitewhere/sitewhere
</code></pre></div><h2 id="monitor-sitewhere-services"><a href="#monitor-sitewhere-services" aria-hidden="true" class="header-anchor">#</a> Monitor SiteWhere Services</h2> <p>Once SiteWhere has been installed, there are many ways of interacting with the system
to verify that the microservices have started successfully. Any of the standard
Kubernetes tooling may be used to introspect the SiteWhere pods.</p> <h3 id="using-visual-studio-code-kubernetes-support"><a href="#using-visual-studio-code-kubernetes-support" aria-hidden="true" class="header-anchor">#</a> Using Visual Studio Code Kubernetes Support</h3> <p><a href="https://code.visualstudio.com/" target="_blank" rel="noopener noreferrer">Visual Studio Code<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> offers an optional Kubernetes
plugin which supports management of many aspects of a running cluster. The extension
is published as an <a href="https://github.com/Azure/vscode-kubernetes-tools" target="_blank" rel="noopener noreferrer">open source<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
repository and may be installed via the VS Code extension manager.</p> <a href="/docs/2.0.0/images/deployment/vs-code-kubernetes-plugin.png" class="inline-image"><img src="/docs/2.0.0/images/deployment/vs-code-kubernetes-plugin.png" alt title="Kubernetes Plugin"></a> <p>After installing the plugin, browse into the Kubernetes nodes to see the running services.
Once all of the infrastructure services have started, the SiteWhere services will start.
To browse the logs for the individual services, right-click on a pod in the tree and choose
<code>Follow Logs</code> to attach to the logs for that microservice in a terminal. Multiple terminals
may be opened concurrently to track logs for multiple services.</p> <a href="/docs/2.0.0/images/deployment/vs-code-sitewhere-services.png" class="inline-image"><img src="/docs/2.0.0/images/deployment/vs-code-sitewhere-services.png" alt title="SiteWhere Services"></a> <h3 id="using-kubernetes-dashboard-ui"><a href="#using-kubernetes-dashboard-ui" aria-hidden="true" class="header-anchor">#</a> Using Kubernetes Dashboard UI</h3> <p>The Kubernetes project includes a dashboard user interface that may be used to view the
cluster components for tasks such as monitoring component status and viewing logs. For complete
instructions on installing the Kubernetes Dashboard UI, refer to the dashboard deployment
<a href="https://kubernetes.io/docs/tasks/access-application-cluster/web-ui-dashboard/#deploying-the-dashboard-ui" target="_blank" rel="noopener noreferrer">documentation<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="run-the-administrative-application"><a href="#run-the-administrative-application" aria-hidden="true" class="header-anchor">#</a> Run the Administrative Application</h2> <p>Once a SiteWhere instance has been deployed, the SiteWhere administrative application may be
used to connect to the instance and configure it. The administrative application is based on
<a href="https://electronjs.org/" target="_blank" rel="noopener noreferrer">Electron<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> and may be downloaded from directly from the project
<a href="https://github.com/sitewhere/sitewhere-admin-ui/releases" target="_blank" rel="noopener noreferrer">releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> page. After installing
the application, open it and log in using the default administrative credentials:</p> <p><strong>username</strong>: <code>admin</code> <strong>password</strong>: <code>password</code></p> <a href="/docs/2.0.0/images/platform/login.png" class="inline-image"><img src="/docs/2.0.0/images/platform/login.png" alt title="Administrative Application"></a> <p>See the user guide for more information about using the administrative application.</p> <h2 id="remove-sitewhere"><a href="#remove-sitewhere" aria-hidden="true" class="header-anchor">#</a> Remove SiteWhere</h2> <p>To remove SiteWhere, execute the following command</p> <div class="language- extra-class"><pre class="language-text"><code>helm del --purge sitewhere
</code></pre></div><h3 id="remove-sitewhere-persistent-data"><a href="#remove-sitewhere-persistent-data" aria-hidden="true" class="header-anchor">#</a> Remove SiteWhere Persistent Data</h3> <p>In order to remove all SiteWhere data and start with a clean system, you need remove the
<a href="https://kubernetes.io/docs/concepts/storage/persistent-volumes/" target="_blank" rel="noopener noreferrer">persistent volume claims<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
that the SiteWhere infrastructure components create. The following commands may be
used to delete data added by the default SiteWhere configuration:</p> <h4 id="delete-consul-metadata"><a href="#delete-consul-metadata" aria-hidden="true" class="header-anchor">#</a> Delete Consul Metadata</h4> <div class="language- extra-class"><pre class="language-text"><code>kubectl delete pvc/data-sitewhere-consul-server-0
</code></pre></div><h4 id="delete-kafka-data"><a href="#delete-kafka-data" aria-hidden="true" class="header-anchor">#</a> Delete Kafka Data</h4> <div class="language- extra-class"><pre class="language-text"><code>kubectl delete pvc/sitewhere-kafka-pv-sitewhere-kafka-0
</code></pre></div><h4 id="delete-mongodb-database"><a href="#delete-mongodb-database" aria-hidden="true" class="header-anchor">#</a> Delete MongoDB Database</h4> <div class="language- extra-class"><pre class="language-text"><code>kubectl delete pvc/sitewhere-mongodb-pv-sitewhere-mongodb-0
</code></pre></div><h4 id="delete-zookeeper-metadata"><a href="#delete-zookeeper-metadata" aria-hidden="true" class="header-anchor">#</a> Delete Zookeeper Metadata</h4> <div class="language- extra-class"><pre class="language-text"><code>kubectl delete pvc/sitewhere-zookeeper-pv-sitewhere-zookeeper-0
</code></pre></div><h2 id="uninstall-rook"><a href="#uninstall-rook" aria-hidden="true" class="header-anchor">#</a> Uninstall Rook</h2> <p>To uninstall Rook and the Ceph components it wraps, refer to this
<a href="https://rook.io/docs/rook/v0.8/ceph-teardown.html" target="_blank" rel="noopener noreferrer">document<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, and
follow the instructions to remove the components and related data.</p> <div class="tip custom-block"><p class="custom-block-title">TIP</p> <p>To delete the persistent data associated with SiteWhere, it is not necessary
to uninstall Rook. As detailed above, the k8s persistence claims may be
deleted to remove existing data and start with a clean system.</p></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.0.0/docs/deployment/README.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">12/20/2018, 2:32:23 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/docs/2.0.0/assets/js/6.1266e963.js" defer></script><script src="/docs/2.0.0/assets/js/4.856fab00.js" defer></script><script src="/docs/2.0.0/assets/js/app.468dd2aa.js" defer></script>
  </body>
</html>
