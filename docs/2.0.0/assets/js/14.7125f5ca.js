(window.webpackJsonp=window.webpackJsonp||[]).push([[14],{243:function(e,a,r){"use strict";r.r(a);var t=r(1),n=Object(t.a)({},function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"content"},[e._m(0),e._v(" "),r("p",[e._v("Esta guía proporciona información destinada a desarrolladores interesados\nen la construcción de componentes SiteWhere a partir del código fuente. Proporciona detalles\nsobre la descarga del código fuente, la instalación de las herramientas de compilación necesarias,\nluego construyendo imágenes de Docker que se pueden usar para implementar una instancia.")]),e._v(" "),e._m(1),e._v(" "),r("p",[e._v("El código fuente de SiteWhere está disponible en "),r("a",{attrs:{href:"https://github.com/",target:"_blank",rel:"noopener noreferrer"}},[e._v("GitHub"),r("OutboundLink")],1),e._v("\nen la siguiente ubicación:")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/sitewhere/sitewhere",target:"_blank",rel:"noopener noreferrer"}},[e._v("SiteWhere Core Repository"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("El repositorio incluye el código fuente, así como el seguimiento de problemas y otros\naspectos del ecosistema de desarrollo.")]),e._v(" "),e._m(2),e._v(" "),r("p",[e._v("El código fuente registrado en la rama "),r("em",[e._v("master")]),e._v(" siempre es de la\núltima versión lanzada de SiteWhere. Cada versión está etiquetada y puede ser\naccedido descargando un archivo de la\n"),r("a",{attrs:{href:"https://github.com/sitewhere/sitewhere/releases",target:"_blank",rel:"noopener noreferrer"}},[e._v("página de releases"),r("OutboundLink")],1),e._v(" o\nclonando el repositorio y accediendo a la rama correspondiente al release.\nLa rama para la próxima versión de SiteWhere 2.0 está disponible\nen la siguiete ubicación:")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://github.com/sitewhere/sitewhere/tree/sitewhere-2.0.0",target:"_blank",rel:"noopener noreferrer"}},[e._v("SiteWhere Branch 2.0.0"),r("OutboundLink")],1)]),e._v(" "),e._m(3),e._v(" "),e._m(4),e._v(" "),r("p",[e._v("Para trabajar con el código, deberá clonarse el repositorio desde GitHub a\nsu máquina local. El siguiente enlace cubre algunas opciones para la instalación de\nun cliente de Git para acceder al repositorio:")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://help.github.com/articles/set-up-git/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Instalar un cliente de Git"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Con un cliente de Git instalado, comience por clonar el repositorio central de SiteWhere.\nSi usa el cliente de línea de comando, puede ejecutar los siguientes\ncomandos para clonar el repositorio y cambiar a la rama actual:")]),e._v(" "),e._m(5),r("p",[e._v("El resultado de los comandos debería ser similar al siguiente resultado:")]),e._v(" "),r("InlineImage",{attrs:{src:"/images/development/git-command-line-clone.png",caption:"Clonar la línea de comando de Git"}}),e._v(" "),e._m(6),e._v(" "),r("p",[e._v("SiteWhere incluye scripts de compilación que facilitan la creación de artefactos\nimplementables desde el código fuente. Antes de construir desde el código fuente, hay un par\nde herramientas que deben instalarse.")]),e._v(" "),e._m(7),e._v(" "),r("p",[e._v("Todo el código fuente central está escrito en Java, por lo que se requiere un compilador Java.\nLas versiones recientes de SiteWhere usan características de Java 8, por lo que JDK o JRE deben\nser 1.8 o superior.")]),e._v(" "),r("p",[r("a",{attrs:{href:"http://www.oracle.com/technetwork/java/javase/downloads/index.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Descargar e instalar Java"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Una vez instalada, la versión se puede verificar como se muestra a continuación:")]),e._v(" "),r("InlineImage",{attrs:{src:"/images/development/java-version-check.png",caption:"Comprobación de la versión de Java"}}),e._v(" "),e._m(8),e._v(" "),r("p",[e._v("SiteWhere 2.0 utiliza Docker como modelo de implementación principal, por lo que los artefactos\nde implementación del proceso de compilación son imágenes Docker. Para que los scripts de compilación\npuedan interactuar con un repositorio local y la API disponibles, es necesario instalar\nuna copia local de Docker Engine como se explica a continuación:")]),e._v(" "),r("p",[r("a",{attrs:{href:"https://docs.docker.com/engine/installation/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Instalar Docker Engine"),r("OutboundLink")],1)]),e._v(" "),r("p",[e._v("Verifique que Docker Engine se haya instalado correctamente ejecutando el comando\nabajo:")]),e._v(" "),r("InlineImage",{attrs:{src:"/images/development/docker-engine-version.png",caption:"Versión del motor Docker"}}),e._v(" "),r("p",[e._v("Configure Docker Daemon para escuchar en el puerto TCP 2375. Este es el puerto predeterminado de la  API,\npero la mayoría de las instalaciones no habilitan el puerto por defecto. Un ejemplo de\nactualización necesaria para Ubuntu 16.04 se puede encontrar\n"),r("a",{attrs:{href:"https://www.ivankrizsan.se/2016/05/18/enabling-docker-remote-api-on-ubuntu-16-04/",target:"_blank",rel:"noopener noreferrer"}},[e._v("aquí"),r("OutboundLink")],1),e._v(".")]),e._v(" "),e._m(9),e._v(" "),r("p",[e._v("La carpeta raíz del código fuente contiene un script de construcción "),r("a",{attrs:{href:"https://gradle.org/",target:"_blank",rel:"noopener noreferrer"}},[e._v("Gradle"),r("OutboundLink")],1),e._v("\n("),r("em",[e._v("build.gradle")]),e._v(") que compila el código de Java, lo empaqueta en imágenes Docker y luego empuja\nlas imágenes a un repositorio de Docker. De forma predeterminada, el script de Gradle intentará\nempujar las imágenes al repositorio que se ejecuta en "),r("em",[e._v("localhost")]),e._v(". Se puede agrear información\npara otro repositorio sobrescribiendo las siguientes líneas del archivo "),r("em",[e._v("gradle.properties")]),e._v("\n(o "),r("em",[e._v("~/.gradle")]),e._v(" en Unix) en su directorio de usuario predeterminado:")]),e._v(" "),e._m(10),r("p",[e._v("SiteWhere incluye los artefactos de Gradle "),r("a",{attrs:{href:"https://docs.gradle.org/current/userguide/gradle_wrapper.html",target:"_blank",rel:"noopener noreferrer"}},[e._v("Wrapper"),r("OutboundLink")],1),e._v(",\npor lo que no es necesario instalar Gradle de forma independiente. Para construir toda las bibliotecas núcleo,\nempaquetar los microservicios en imágenes Docker e introducirlos en su repositorio, ejecute el siguiente comando:")]),e._v(" "),e._m(11),r("p",[e._v("La primera vez que se ejecuta la compilación tomará mucho más tiempo ya que Gradle\ndebe descargar todas las dependencias y almacenarlas en caché para usarlas posteriormente. Cuando\nel script de compilación se completa, ejecute el siguiente comando para ver\nlista de imágenes de Docker que ahora deberían incluir imágenes para todos los microservicios de\nSiteWhere:")]),e._v(" "),r("InlineImage",{attrs:{src:"/images/development/docker-image-list.png",caption:"Lista de imágenes de Docker"}}),e._v(" "),e._m(12),e._v(" "),r("p",[e._v("Además de las imágenes standar de microservicio, la construcción de Gradle se puede parametrizar\npara generar imágenes de depuración que exponen un puerto para la depuración remota de Java. Para poder\ngenerar imágenes de depuración, ejecute el siguiente comando:")]),e._v(" "),e._m(13),e._m(14),e._v(" "),e._m(15),e._v(" "),r("p",[e._v("Ahora que las imágenes de Docker se han generado para los microservicios, siga los pasos en la\nguía de implementación para usar las recetas de SiteWhere que ensamblan los microservicios en una instancia en\nfuncionamiento.")])],1)},[function(){var e=this.$createElement,a=this._self._c||e;return a("h1",{attrs:{id:"guia-de-desarrollo-de-sitewhere"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#guia-de-desarrollo-de-sitewhere","aria-hidden":"true"}},[this._v("#")]),this._v(" Guía de Desarrollo de SiteWhere")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h2",{attrs:{id:"acceder-al-codigo-fuente-en-github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#acceder-al-codigo-fuente-en-github","aria-hidden":"true"}},[this._v("#")]),this._v(" Acceder al código fuente en GitHub")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"estructura-de-ramas-del-repositorio"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#estructura-de-ramas-del-repositorio","aria-hidden":"true"}},[this._v("#")]),this._v(" Estructura de Ramas del repositorio")])},function(){var e=this.$createElement,a=this._self._c||e;return a("p",[this._v("La nueva funcionalidad siempre se desarrolla en una rama separada y es\nfinalmente se fusionó con "),a("em",[this._v("master")]),this._v(" como parte del ciclo de publicación.")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"obtener-el-codigo-fuente-de-github"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#obtener-el-codigo-fuente-de-github","aria-hidden":"true"}},[this._v("#")]),this._v(" Obtener el código fuente de GitHub")])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("git clone https://github.com/sitewhere/sitewhere.git\ncd sitewhere\ngit checkout --force sitewhere-2.0.0\n")])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"construir-desde-el-codigo-fuente"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#construir-desde-el-codigo-fuente","aria-hidden":"true"}},[this._v("#")]),this._v(" Construir desde el Código Fuente")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"instalar-java-8"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#instalar-java-8","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalar Java 8")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"instalar-docker-engine"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#instalar-docker-engine","aria-hidden":"true"}},[this._v("#")]),this._v(" Instalar Docker Engine")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"ejecutar-script-de-compilacion-de-gradle"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ejecutar-script-de-compilacion-de-gradle","aria-hidden":"true"}},[this._v("#")]),this._v(" Ejecutar script de compilación de Gradle")])},function(){var e=this,a=e.$createElement,r=e._self._c||a;return r("div",{staticClass:"language-properties extra-class"},[r("pre",{pre:!0,attrs:{class:"language-properties"}},[r("code",[r("span",{attrs:{class:"token attr-name"}},[e._v("dockerProtocol")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("tcp")]),e._v("\n"),r("span",{attrs:{class:"token attr-name"}},[e._v("dockerHostname")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("192.168.171.100")]),e._v("\n"),r("span",{attrs:{class:"token attr-name"}},[e._v("dockerPort")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("2375")]),e._v("\n"),r("span",{attrs:{class:"token attr-name"}},[e._v("dockerRepository")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("docker.io")]),e._v("\n"),r("span",{attrs:{class:"token attr-name"}},[e._v("registryUsername")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("(your docker username)")]),e._v("\n"),r("span",{attrs:{class:"token attr-name"}},[e._v("registryPassword")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("(your docker password)")]),e._v("\n"),r("span",{attrs:{class:"token attr-name"}},[e._v("registryEmail")]),r("span",{attrs:{class:"token punctuation"}},[e._v("=")]),r("span",{attrs:{class:"token attr-value"}},[e._v("(your docker email address)")]),e._v("\n")])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("gradlew clean dockerImage\n")])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("h3",{attrs:{id:"creacion-de-imagenes-de-depuracion"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creacion-de-imagenes-de-depuracion","aria-hidden":"true"}},[this._v("#")]),this._v(" Creación de imágenes de depuración")])},function(){var e=this.$createElement,a=this._self._c||e;return a("div",{staticClass:"language-console extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[this._v("gradlew clean dockerImage -Pdebug\n")])])])},function(){var e=this.$createElement,a=this._self._c||e;return a("p",[this._v("Las imágenes de depuración usan un identificador de versión con el prefijo "),a("em",[this._v("debug-")]),this._v(" para evitar confusiones\ncon las imágenes sin depuración. Tenga en cuenta que hay una receta SiteWhere separada para ejecutar\nlas imágenes Docker de depuración, ya que el puerto de depuración para cada microservicio debe ser reasignado\na un puerto diferente. El uso de las imágenes de depuración le permite conectarse desde un depurador remoto\n(como el de Eclipse) y establecer puntos de interrupción en los microservicios en ejecución.")])},function(){var e=this.$createElement,a=this._self._c||e;return a("h2",{attrs:{id:"proximos-pasos"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#proximos-pasos","aria-hidden":"true"}},[this._v("#")]),this._v(" Próximos pasos")])}],!1,null,null,null);n.options.__file="README.md";a.default=n.exports}}]);