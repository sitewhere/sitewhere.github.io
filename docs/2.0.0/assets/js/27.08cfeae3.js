(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{182:function(t,s,a){"use strict";a.r(s);var n=a(1),e=Object(n.a)({},function(){this.$createElement;this._self._c;return this._m(0)},[function(){var t=this,s=t.$createElement,a=t._self._c||s;return a("div",{staticClass:"content"},[a("h1",{attrs:{id:"sending-data-to-sitewhere-2-0"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-data-to-sitewhere-2-0","aria-hidden":"true"}},[t._v("#")]),t._v(" Sending Data to SiteWhere 2.0")]),t._v(" "),a("p",[t._v("SiteWhere is designed to be flexible in the way that it sends and receives data from devices and other agents.\nMost popular communication protocols and encodings are supported out-of-the-box, but the system is also designed\nto be easily extended. Each system tenant can have any number of protocols configured for communicating with\ndevices. By default, tenants are configured to communicate over MQTT with support for multiple encodings\nto allow for interactions with many types of devices.")]),t._v(" "),a("h2",{attrs:{id:"sending-device-data"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-device-data","aria-hidden":"true"}},[t._v("#")]),t._v(" Sending Device Data")]),t._v(" "),a("h3",{attrs:{id:"json-packet-format"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#json-packet-format","aria-hidden":"true"}},[t._v("#")]),t._v(" JSON Packet Format")]),t._v(" "),a("p",[t._v("The following sections show examples of JSON data structured to interact with SiteWhere. All JSON packets share\nsome common information as shown below:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"deviceToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"(unique device token)"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"(indicator for request type)"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"originator"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"(originator of the message)"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"request"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    ...\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("deviceToken")]),t._v(" "),a("td",[t._v("Device token that uniquely identifies a device within a tenant. This informs the system which device is generating events.")])]),t._v(" "),a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("The type of request for the device. This indicates how the data in the "),a("em",[t._v("request")]),t._v(" section should be interpreted.")])]),t._v(" "),a("tr",[a("td",[t._v("originator")]),t._v(" "),a("td",[t._v("This field is used by devices if they are sending an event in response to a command, indicating the "),a("em",[t._v("id")]),t._v(" of the command.")])]),t._v(" "),a("tr",[a("td",[t._v("request")]),t._v(" "),a("td",[t._v("The request content which is specific to the type of packet being sent as indicated by the "),a("em",[t._v("type")]),t._v(" field.")])])])]),t._v(" "),a("h3",{attrs:{id:"sending-device-data-using-profocol-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-device-data-using-profocol-buffer","aria-hidden":"true"}},[t._v("#")]),t._v(" Sending Device Data Using Profocol Buffer")]),t._v(" "),a("div",{staticClass:"language-gradle extra-class"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[t._v("compile group: 'com.sitewhere', name: 'sitewhere-device-protobuf', version:'2.0.0-SNAPSHOT'\n")])])]),a("h3",{attrs:{id:"registering-a-device"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-a-device","aria-hidden":"true"}},[t._v("#")]),t._v(" Registering a Device")]),t._v(" "),a("p",[t._v("Before devices can send event data, they must be registered with the system. SiteWhere will send back a\nresponse on the system command channel to indicate whether the device could be registered. It will also\nindicate if the device was already registered or not.")]),t._v(" "),a("h4",{attrs:{id:"registering-a-device-with-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-a-device-with-json","aria-hidden":"true"}},[t._v("#")]),t._v(" Registering a Device with JSON")]),t._v(" "),a("p",[t._v("The JSON packet below can be used to register a device:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"RegisterDevice"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"deviceToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"originator"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"request"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"areaToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"southeast"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"customerToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"acme"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"deviceTypeToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"raspberrypi"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"metadata"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"name1"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"val1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"name2"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"val2"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[a("code",[t._v("RegisterDevice")])])]),t._v(" "),a("tr",[a("td",[t._v("areaToken")]),t._v(" "),a("td",[t._v("A token that specifies the "),a("code",[t._v("Area")]),t._v(" being registered.")])]),t._v(" "),a("tr",[a("td",[t._v("customerToken")]),t._v(" "),a("td",[t._v("A token that specifies the "),a("code",[t._v("Customer")]),t._v(" being registered")])]),t._v(" "),a("tr",[a("td",[t._v("deviceTypeToken")]),t._v(" "),a("td",[t._v("A token that specifiies the "),a("code",[t._v("Device Type")]),t._v(" being registered")])]),t._v(" "),a("tr",[a("td",[t._v("metadata")]),t._v(" "),a("td",[t._v("The metadata of the device being registered")])])])]),t._v(" "),a("h4",{attrs:{id:"registering-a-device-with-protocol-buffer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#registering-a-device-with-protocol-buffer","aria-hidden":"true"}},[t._v("#")]),t._v(" Registering a Device with Protocol Buffer")]),t._v(" "),a("p",[t._v("The Protocol Buffer packet below can be used to register a device:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Header")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder headerBuilder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Command")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SendRegistration"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Device Token")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setDeviceToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//Originator")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setOriginator")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"originator"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Payload")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceRegistrationRequest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder builder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v("\n  SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceRegistrationRequest"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getAreaTokenBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"myareatoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getCustomerTokenBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"mycustomertoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getDeviceTypeTokenBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("putAllMetadata")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("myMetadata"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceRegistrationRequest payload "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" builder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("build")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"send-device-measurement"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-measurement","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Measurement")]),t._v(" "),a("p",[t._v("SiteWhere supports storing measurements related to a device as event data.")]),t._v(" "),a("h4",{attrs:{id:"send-device-measurement-with-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-measurement-with-json","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Measurement with JSON")]),t._v(" "),a("p",[t._v("The JSON format for sending a device measurement is shown below:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"DeviceMeasurement"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"originator"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"deviceToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"request"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"name"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"temp"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"value"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"34.7"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"updateState"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"eventDate"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"2018-11-21T22:10:13.418-0300"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"metadata"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"name1"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"val1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n      "),a("span",{attrs:{class:"token property"}},[t._v('"name2"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"val2"')]),t._v("\n    "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[a("code",[t._v("DeviceMeasurement")])])]),t._v(" "),a("tr",[a("td",[t._v("name")]),t._v(" "),a("td",[t._v("Name of the measurement being send.")])]),t._v(" "),a("tr",[a("td",[t._v("value")]),t._v(" "),a("td",[t._v("Value of the measurement being send.")])]),t._v(" "),a("tr",[a("td",[t._v("updateState")]),t._v(" "),a("td",[t._v("if "),a("code",[t._v("true")]),t._v(", it updates the "),a("code",[t._v("DeviceState")]),t._v(" of the Assignement")])]),t._v(" "),a("tr",[a("td",[t._v("eventDate")]),t._v(" "),a("td",[t._v("Timestamp of the event.")])]),t._v(" "),a("tr",[a("td",[t._v("metadata")]),t._v(" "),a("td",[t._v("The metadata of the event.")])])])]),t._v(" "),a("h4",{attrs:{id:"send-device-measurement-with-protocol-buffers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-measurement-with-protocol-buffers","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Measurement with Protocol Buffers")]),t._v(" "),a("p",[t._v("The Protocol Buffers format for sending a device measurement is shown below:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Header")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder headerBuilder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Command")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SendMeasurement"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Device Token")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setDeviceToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//Originator")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setOriginator")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"originator"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Payload")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceMeasurement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder builder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceMeasurement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setEventDate")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalFixed64"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setMeasurementName")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"temp"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setMeasurementValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalDouble"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("34.7")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceMeasurement payload "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" builder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("build")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"send-device-location"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-location","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Location")]),t._v(" "),a("p",[t._v("SiteWhere supports storing locations related to a device as event data.")]),t._v(" "),a("h4",{attrs:{id:"send-device-location-with-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-location-with-json","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Location with JSON")]),t._v(" "),a("p",[t._v("The JSON format for sending a device locacation is shown below:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"DeviceLocation"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"originator"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"deviceToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"request"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"latitude"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"33.75"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"latitude"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"-84.39"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"elevation"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"1"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"updateState"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token boolean"}},[t._v("true")]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"eventDate"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2018-11-03T19:40:03.390Z"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[a("code",[t._v("DeviceLocation")])])]),t._v(" "),a("tr",[a("td",[t._v("latitude")]),t._v(" "),a("td",[t._v("Latitud of the Location being send.")])]),t._v(" "),a("tr",[a("td",[t._v("latitude")]),t._v(" "),a("td",[t._v("Longitud of the Location being send.")])]),t._v(" "),a("tr",[a("td",[t._v("elevation")]),t._v(" "),a("td",[t._v("Elevation of the Location being send.")])]),t._v(" "),a("tr",[a("td",[t._v("updateState")]),t._v(" "),a("td",[t._v("if "),a("code",[t._v("true")]),t._v(", it updates the "),a("code",[t._v("DeviceState")]),t._v(" of the Assignement")])]),t._v(" "),a("tr",[a("td",[t._v("eventDate")]),t._v(" "),a("td",[t._v("Timestamp of the event.")])]),t._v(" "),a("tr",[a("td",[t._v("metadata")]),t._v(" "),a("td",[t._v("The metadata of the event.")])])])]),t._v(" "),a("h4",{attrs:{id:"send-device-location-with-protocol-buffers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-location-with-protocol-buffers","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Location with Protocol Buffers")]),t._v(" "),a("p",[t._v("The Protocol Buffers format for sending a device locacation is shown below:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Header")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder headerBuilder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Command")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SendLocation"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Device Token")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setDeviceToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//Originator")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setOriginator")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"originator"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Payload")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceMeasurement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder builder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceMeasurement"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setEventDate")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalFixed64"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setMeasurementName")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"temp"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setMeasurementValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalDouble"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token number"}},[t._v("34.7")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceMeasurement payload "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" builder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("build")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])]),a("h3",{attrs:{id:"sending-device-alert"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-device-alert","aria-hidden":"true"}},[t._v("#")]),t._v(" Sending Device Alert")]),t._v(" "),a("p",[t._v("SiteWhere supports storing alerts for exceptional conditions as event data.")]),t._v(" "),a("h4",{attrs:{id:"sending-device-alert-with-json"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#sending-device-alert-with-json","aria-hidden":"true"}},[t._v("#")]),t._v(" Sending Device Alert with JSON")]),t._v(" "),a("p",[t._v("The JSON format for sending a device alert is shown below:")]),t._v(" "),a("div",{staticClass:"language-json extra-class"},[a("pre",{pre:!0,attrs:{class:"language-json"}},[a("code",[a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"DeviceAlert"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"originator"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"device"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"deviceToken"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),a("span",{attrs:{class:"token property"}},[t._v('"request"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"type"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Warning"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"message"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"Engine overheat."')]),a("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),a("span",{attrs:{class:"token property"}},[t._v('"eventDate"')]),a("span",{attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),a("span",{attrs:{class:"token string"}},[t._v('"2018-11-03T19:40:03.390Z"')]),t._v("\n  "),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),a("span",{attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),a("table",[a("thead",[a("tr",[a("th",[t._v("Field")]),t._v(" "),a("th",[t._v("Description")])])]),t._v(" "),a("tbody",[a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[a("code",[t._v("DeviceAlert")])])]),t._v(" "),a("tr",[a("td",[t._v("type")]),t._v(" "),a("td",[t._v("Type of the Alter "),a("code",[t._v("Info")]),t._v(","),a("code",[t._v("Warning")]),t._v(","),a("code",[t._v("Error")]),t._v(","),a("code",[t._v("Fatal")])])]),t._v(" "),a("tr",[a("td",[t._v("message")]),t._v(" "),a("td",[t._v("Message assosiated with the Alert.")])]),t._v(" "),a("tr",[a("td",[t._v("eventDate")]),t._v(" "),a("td",[t._v("Timestamp of the event.")])]),t._v(" "),a("tr",[a("td",[t._v("metadata")]),t._v(" "),a("td",[t._v("The metadata of the event.")])])])]),t._v(" "),a("h4",{attrs:{id:"send-device-alert-with-protocol-buffers"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#send-device-alert-with-protocol-buffers","aria-hidden":"true"}},[t._v("#")]),t._v(" Send Device Alert with Protocol Buffers")]),t._v(" "),a("p",[t._v("The Protocol Buffers format for sending a device alert is shown below:")]),t._v(" "),a("div",{staticClass:"language-java extra-class"},[a("pre",{pre:!0,attrs:{class:"language-java"}},[a("code",[a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token keyword"}},[t._v("import")]),t._v(" com"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("sitewhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("communication"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("protobuf"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("proto"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Header")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder headerBuilder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Header"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Command")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setCommand")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("Command"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("SendAlert"),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Device Token")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setDeviceToken")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"mydevicetoken"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n"),a("span",{attrs:{class:"token comment"}},[t._v("//Originator")]),t._v("\nheaderBuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setOriginator")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"originator"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n\n"),a("span",{attrs:{class:"token comment"}},[t._v("// Payload")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceAlert"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("Builder builder "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceAlert"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setEventDate")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalFixed64"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token keyword"}},[t._v("new")]),t._v(" "),a("span",{attrs:{class:"token class-name"}},[t._v("Date")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("getTime")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setAlertType")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Warning"')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nbuilder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setAlertMessage")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),t._v("GOptionalString"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("setValue")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token string"}},[t._v('"Engine overheat."')]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\nSiteWhere"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceEvent"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),t._v("DeviceAlert payload "),a("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" builder"),a("span",{attrs:{class:"token punctuation"}},[t._v(".")]),a("span",{attrs:{class:"token function"}},[t._v("build")]),a("span",{attrs:{class:"token punctuation"}},[t._v("(")]),a("span",{attrs:{class:"token punctuation"}},[t._v(")")]),a("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])])}],!1,null,null,null);e.options.__file="sending-data.md";s.default=e.exports}}]);