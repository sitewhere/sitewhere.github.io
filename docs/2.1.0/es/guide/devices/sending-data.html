<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>游닀 Enviar datos a SiteWhere 2.0 | Documentaci칩n SiteWhere CE 2.1.0</title>
    <meta name="description" content="SiteWhere CE 2.1.0 Documentation">
    <link rel="icon" href="/docs/2.1.0/images/favicon.ico">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel='canonical' href='https://sitewhere.io/docs/2.1.0/es/guide/devices/sending-data.html'>
    
    <link rel="preload" href="/docs/2.1.0/assets/css/0.styles.5d0cfcb7.css" as="style"><link rel="preload" href="/docs/2.1.0/assets/js/app.35e2fc1c.js" as="script"><link rel="preload" href="/docs/2.1.0/assets/js/41.20f2254d.js" as="script"><link rel="preload" href="/docs/2.1.0/assets/js/7.eeccdef4.js" as="script"><link rel="prefetch" href="/docs/2.1.0/assets/js/54.bdf62bc0.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/2.93c140d2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/3.d326a69c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/4.e0f3f65d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/5.773a633b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/6.7c48419a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/8.cda60177.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/9.1f3da397.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/10.682527b8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/11.07c582fa.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/12.0c2f9571.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/13.92b66239.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/14.a9a307ca.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/15.0a501300.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/16.e0e26469.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/17.b1e11d95.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/18.0689a40b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/19.969f64f5.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/20.c68c97cd.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/21.c4863e5f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/22.bae3bff1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/23.198dd19e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/24.b70f8c0b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/25.4781abea.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/26.9e715fb0.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/27.8867fbf2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/28.9df01655.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/29.d9ec26bc.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/30.714aa8c9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/31.d2833d7b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/32.d295e86c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/33.a69a9ea7.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/34.ef5acde6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/35.da2900dc.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/36.83b0c1ad.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/37.05d8d8ec.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/38.d7954386.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/39.ca64216d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/40.ce28e74b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/42.47fd4c0f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/43.c45f68ba.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/44.4b51406d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/45.99aa8c96.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/46.3cc3da73.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/47.ac8a3227.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/48.338db9f5.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/49.7b7c2f37.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/50.7181fd63.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/51.0ff1a9a1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/52.7653c202.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/53.624fb9be.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/55.3493ed9f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/56.35450719.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/57.d8ca8575.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/58.94522d28.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/59.c36d108e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/60.34b7cec9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/61.a683f2b1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/62.86b0a0e6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/63.783a0f76.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/64.afbbe37f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/65.28f070b4.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/66.0ae485a1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/67.310b18b9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/68.cb1ceb25.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/69.877cef14.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/70.6d906dd1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/71.654a2ca8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/72.6e960b06.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/73.2b08f315.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/74.5737b06d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/75.31f1758e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/76.288df3df.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/77.067244d2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/78.28cc601f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/79.4b3e8f55.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/80.309fe8e7.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/81.a5466873.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/82.d613baad.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/83.7a6abc94.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/84.f7f450a4.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/85.cd9af7c6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/86.7f08e002.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/87.e0b03548.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/88.c6f4a1b8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/89.c3441130.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/90.6088d794.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/91.a64d3e0c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/92.d264cde6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/93.bd315012.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/94.57bc12e6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/95.15b92432.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/96.994b90a0.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/97.644e83ed.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/98.d8ad7258.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/99.19c7bf32.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/100.ff7039f1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/101.dd0dabca.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/102.fe82dfaf.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/103.e02c9c41.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/104.1ffc3ee1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/105.1093a17d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/106.58f255be.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/107.50dc9aa4.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/108.3ee6938a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/109.2263ea9e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/110.62c70c75.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/111.75df092b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/112.65805c8a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/113.c38be35b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/114.e7dabc9f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/115.88d5b980.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/116.9f0d578c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/117.e72fc61e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/118.9c432997.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/119.2c43d623.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/120.c4f1addf.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/121.ecae9116.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/122.3abce185.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/123.10be6605.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/124.f3967b36.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/125.1201320e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/126.6cebb79b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/127.0fb426ec.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/128.c5cfd772.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/129.c8c353e6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/130.95e04169.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/131.b2165838.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/132.ec295559.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/133.001cb331.js">
    <link rel="stylesheet" href="/docs/2.1.0/assets/css/0.styles.5d0cfcb7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.1.0/es/" class="home-link router-link-active"><img src="/docs/2.1.0/images/logo.svg" alt="Documentaci칩n SiteWhere CE 2.1.0" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.1.0/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/docs/2.1.0/es/deployment/" class="nav-link">Instalaci칩n</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Gu칤as del usuario</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/architecture/" class="nav-link">Gu칤a de Arquitectura</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/deployment/" class="nav-link">Gu칤a de Despliegue</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/administration/" class="nav-link">Gu칤a de Administraci칩n del Sistema</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/" class="nav-link router-link-active">Gu칤as de Integraci칩n con Dispositivos</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/microservices/" class="nav-link">Gu칤a de Microservicios</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/api/" class="nav-link">Gu칤as de APIs</a></li></ul></div></div><div class="nav-item"><a href="/docs/2.1.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/guide/devices/sending-data.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/sending-data.html" class="nav-link router-link-exact-active router-link-active">Espa침ol</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.1.0/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/docs/2.1.0/es/deployment/" class="nav-link">Instalaci칩n</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Gu칤as del usuario</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/architecture/" class="nav-link">Gu칤a de Arquitectura</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/deployment/" class="nav-link">Gu칤a de Despliegue</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/administration/" class="nav-link">Gu칤a de Administraci칩n del Sistema</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/" class="nav-link router-link-active">Gu칤as de Integraci칩n con Dispositivos</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/microservices/" class="nav-link">Gu칤a de Microservicios</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/api/" class="nav-link">Gu칤as de APIs</a></li></ul></div></div><div class="nav-item"><a href="/docs/2.1.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/guide/devices/sending-data.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/sending-data.html" class="nav-link router-link-exact-active router-link-active">Espa침ol</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.1.0/es/guide/devices/sending-data.html" class="active sidebar-link">游닀 Enviar datos a SiteWhere 2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.1.0/es/guide/devices/sending-data.html#enviando-datos-del-dispositivo" class="sidebar-link">Enviando datos del dispositivo</a></li></ul></li><li><a href="/docs/2.1.0/es/guide/devices/android.html" class="sidebar-link">游닀 Programaci칩n de Dispositivos Androids con el SDK de SiteWhere</a></li><li><a href="/docs/2.1.0/es/guide/devices/kura.html" class="sidebar-link">游닀 Programaci칩n de Dispositivos con el Kura</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="enviar-datos-a-sitewhere-2-0"><a href="#enviar-datos-a-sitewhere-2-0" aria-hidden="true" class="header-anchor">#</a> 游닀 Enviar datos a SiteWhere 2.0</h1> <span></span> <p>SiteWhere est치 dise침ado para ser flexible en la forma en que env칤a y recibe datos de dispositivos y otros agentes.
La mayor칤a de los protocolos y codificaciones de comunicaci칩n m치s populares son compatibles de f치brica,
pero el sistema tambi칠n est치 dise침ado para ser extendido f치cilmente. Cada inquilino del sistema puede tener
cualquier n칰mero de protocolos configurados para comunicarse con dispositivos. De forma predeterminada,
los inquilinos est치n configurados para comunicarse a trav칠s de MQTT con soporte para m칰ltiples codificaciones
para permitir interacciones con muchos tipos de dispositivos.</p> <h2 id="enviando-datos-del-dispositivo"><a href="#enviando-datos-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviando datos del dispositivo</h2> <h3 id="formato-del-paquete-json"><a href="#formato-del-paquete-json" aria-hidden="true" class="header-anchor">#</a> Formato del Paquete JSON</h3> <p>Las siguientes secciones muestran ejemplos de datos JSON estructurados para interactuar con SiteWhere.
Todos los paquetes JSON comparten informaci칩n com칰n como se muestra a continuaci칩n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(Token 칰nico del dispositivo)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(indicador del pedido)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(originator of the message)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripci칩n</th></tr></thead> <tbody><tr><td style="text-align:left">deviceToken</td> <td style="text-align:left">El token del dispositivo que identifica de forma 칰nica un dispositivo dentro de un inquilino. Esto informa al sistema qu칠 dispositivo est치 generando eventos.</td></tr> <tr><td style="text-align:left">type</td> <td style="text-align:left">El tipo de solicitud para el dispositivo. Esto indica c칩mo deben interpretarse los datos en la secci칩n <em>request</em>.</td></tr> <tr><td style="text-align:left">originator</td> <td style="text-align:left">Este campo es utilizado por los dispositivos si env칤an un evento en respuesta a un comando, indicando el <em>id</em> del comando.</td></tr> <tr><td style="text-align:left">request</td> <td style="text-align:left">El contenido de la solicitud que es espec칤fico para el tipo de paquete que se env칤a, como lo indica el campo <em>type</em>.</td></tr></tbody></table> <h3 id="enviando-datos-del-dispositivo-usando-profocol-buffer"><a href="#enviando-datos-del-dispositivo-usando-profocol-buffer" aria-hidden="true" class="header-anchor">#</a> Enviando datos del dispositivo usando Profocol Buffer</h3> <p>To send data to SiteWhere using Protocol Buffers, use the <code>sitewhere-device-protobuf</code> library provided by
the SiteWhere development team. To import it using <a href="https://gradle.org" target="_blank" rel="noopener noreferrer">Gradle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> use the instruction.</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>compile group<span class="token punctuation">:</span> <span class="token string">'com.sitewhere'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'sitewhere-device-protobuf'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span><span class="token string">'2.0.4'</span>
</code></pre></div><p>To import the library from a project <a href="https://maven.apache.org/" target="_blank" rel="noopener noreferrer">Maven<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> use the following entry in your <code>pom.xml</code>.</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sitewhere<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>sitewhere-device-protobuf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="registrar-un-dispositivo"><a href="#registrar-un-dispositivo" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo</h3> <p>Antes de que los dispositivos puedan enviar datos de eventos, deben registrarse con el sistema.
SiteWhere enviar치 una respuesta en el canal de comando del sistema para indicar si el dispositivo podr칤a registrarse.
Tambi칠n indicar치 si el dispositivo ya estaba registrado o no.</p> <h4 id="registrar-un-dispositivo-con-json"><a href="#registrar-un-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo con JSON</h4> <p>El siguiente paquete JSON se puede usar para registrar un dispositivo:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RegisterDevice&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;areaToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;southeast&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;customerToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acme&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;deviceTypeToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;raspberrypi&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripci칩n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>RegisterDevice</code></td></tr> <tr><td style="text-align:left">areaToken</td> <td style="text-align:left">Un token que especifica el <code>Area</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">customerToken</td> <td style="text-align:left">Un token que especifica el <code>Customer</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">deviceTypeToken</td> <td style="text-align:left">Un token que especifica el <code>Device Type</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">La metadata del dispositivo que se esta registrado.</td></tr></tbody></table> <h4 id="registrar-un-dispositivo-con-profocol-buffer"><a href="#registrar-un-dispositivo-con-profocol-buffer" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo con Profocol Buffer</h4> <p>De igual manera, se puede registrar el dispositivo utilizando Java y Protocol Buffers de la siguiente manera:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendRegistration<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span>
  SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

builder<span class="token punctuation">.</span><span class="token function">getAreaTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;myareatoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">getCustomerTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mycustomertoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">getDeviceTypeTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">putAllMetadata</span><span class="token punctuation">(</span>myMetadata<span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-mediciones-del-dispositivo"><a href="#enviar-mediciones-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo</h3> <h4 id="enviar-mediciones-del-dispositivo-con-json"><a href="#enviar-mediciones-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo con JSON</h4> <p>SiteWhere admite el almacenamiento de mediciones relacionadas con un dispositivo como datos de eventos.
El formato JSON para enviar una medici칩n del dispositivo se muestra a continuaci칩n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceMeasurement&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;34.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateState&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span><span class="token string">&quot;2018-11-21T22:10:13.418-0300&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripci칩n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceMeasurement</code></td></tr> <tr><td style="text-align:left">name</td> <td style="text-align:left">Nombre de la medeci칩n que se est치 enviando.</td></tr> <tr><td style="text-align:left">value</td> <td style="text-align:left">Valor de la medeci칩n que se est치 enviando.</td></tr> <tr><td style="text-align:left">updateState</td> <td style="text-align:left">Si es <code>true</code>, actualiza el <code>DeviceState</code> de la asigaci칩n.</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-mediciones-del-dispositivo-con-protocol-buffers"><a href="#enviar-mediciones-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una medici칩n del dispositivo se muestra a continuaci칩n:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendMeasurement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementName</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementValue</span><span class="token punctuation">(</span>GOptionalDouble<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">34.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-ubicacion-del-dispositivo"><a href="#enviar-ubicacion-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Ubicaci칩n del Dispositivo</h3> <p>SiteWhere admite el almacenamiento de ubicaciones relacionadas con un dispositivo como datos de eventos.</p> <h4 id="enviar-ubicacion-del-dispositivo-con-json"><a href="#enviar-ubicacion-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Ubicaci칩n del Dispositivo con JSON</h4> <p>El formato JSON para enviar una ubicaci칩n de dispositivo se muestra a continuaci칩n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceLocation&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;latitude&quot;</span><span class="token operator">:</span> <span class="token string">&quot;33.75&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;latitude&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-84.39&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;elevation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateState&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-03T19:40:03.390Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripci칩n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceLocation</code></td></tr> <tr><td style="text-align:left">latitude</td> <td style="text-align:left">Latitud de la Ubicaci칩n que se est치 enviando.</td></tr> <tr><td style="text-align:left">latitude</td> <td style="text-align:left">Longitud de la Ubicaci칩n que se est치 enviando.</td></tr> <tr><td style="text-align:left">elevation</td> <td style="text-align:left">Elevaci칩n de la Ubicaci칩n que se est치 enviando.</td></tr> <tr><td style="text-align:left">updateState</td> <td style="text-align:left">Si es <code>true</code>, actualiza el <code>DeviceState</code> de la asigaci칩n.</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-ubicacion-del-dispositivo-con-protocol-buffers"><a href="#enviar-ubicacion-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Ubicaci칩n del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una ubicaci칩n de dispositivo se muestra a continuaci칩n:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendLocation<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementName</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementValue</span><span class="token punctuation">(</span>GOptionalDouble<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">34.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-alertas-del-dispositivo"><a href="#enviar-alertas-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo</h3> <p>SiteWhere admite el almacenamiento de alertas relacionadas con un dispositivo como datos de eventos.</p> <h4 id="enviar-alertas-del-dispositivo-con-json"><a href="#enviar-alertas-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo con JSON</h4> <p>El formato JSON para enviar una alerta de dispositivo se muestra a continuaci칩n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceAlert&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Warning&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Engine overheat.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-03T19:40:03.390Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">Descripci칩n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceAlert</code></td></tr> <tr><td style="text-align:left">type</td> <td style="text-align:left">Tipo de Alerta <code>Info</code>,<code>Warning</code>,<code>Error</code>,<code>Fatal</code></td></tr> <tr><td style="text-align:left">message</td> <td style="text-align:left">Mensaje asociado a la Alerta</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-alertas-del-dispositivo-con-protocol-buffers"><a href="#enviar-alertas-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una alerta de dispositivo se muestra a continuaci칩n:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendAlert<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setAlertType</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;Warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setAlertMessage</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;Engine overheat.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.1.0/docs/es/guide/devices/sending-data.md" target="_blank" rel="noopener noreferrer">Edita esta p치gina en GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">칔ltima actualizaci칩n: </span> <span class="time">2019-7-22 13:56:35</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/2.1.0/es/guide/devices/android.html">
          游닀 Programaci칩n de Dispositivos Androids con el SDK de SiteWhere
        </a>
        
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.1.0/assets/js/41.20f2254d.js" defer></script><script src="/docs/2.1.0/assets/js/7.eeccdef4.js" defer></script><script src="/docs/2.1.0/assets/js/app.35e2fc1c.js" defer></script>
  </body>
</html>
