<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>ğŸ“– Enviar datos a SiteWhere 2.0 | DocumentaciÃ³n SiteWhere CE 2.1.0</title>
    <meta name="description" content="SiteWhere CE 2.1.0 Documentation">
    <link rel="icon" href="/docs/2.1.0/images/favicon.ico">
  <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous">
    <link rel='canonical' href='https://sitewhere.io/docs/2.1.0/es/guide/devices/sending-data.html'>
    
    <link rel="preload" href="/docs/2.1.0/assets/css/0.styles.5d0cfcb7.css" as="style"><link rel="preload" href="/docs/2.1.0/assets/js/app.bde6658e.js" as="script"><link rel="preload" href="/docs/2.1.0/assets/js/41.f04b460c.js" as="script"><link rel="preload" href="/docs/2.1.0/assets/js/7.eeccdef4.js" as="script"><link rel="prefetch" href="/docs/2.1.0/assets/js/52.e68757f9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/2.93c140d2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/3.4a6aef38.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/4.e0f3f65d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/5.e71c029a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/6.7c48419a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/8.135c10b5.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/9.60a5e50a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/10.cd5a21ad.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/11.f21f9ae3.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/12.053e97dd.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/13.9837902c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/14.b799f3c8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/15.a82ff7bd.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/16.e1f8f2a9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/17.b1e11d95.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/18.4946b31b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/19.b26057a4.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/20.a2a85f0b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/21.6d8b9f8b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/22.a09cb9b2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/23.328aa69f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/24.66ea51cc.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/25.f7b045ec.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/26.6e29b7ab.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/27.810c7f19.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/28.eb88730f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/29.d9467585.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/30.df0587df.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/31.b6ea2ae8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/32.07fee4d0.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/33.827ef46a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/34.586a39a8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/35.2eb57a93.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/36.c56fc067.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/37.e42f72dd.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/38.219df20b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/39.4dd39305.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/40.a17d5bd9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/42.2b5feba8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/43.bcba7c76.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/44.b85115fd.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/45.e6525e2c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/46.8b2b609f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/47.8d5a0c3d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/48.4235a8ac.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/49.1be36351.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/50.ab5f7dd6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/51.e42dba0b.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/53.b546e63d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/54.b3c5aa95.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/55.8c76ebd1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/56.148b3a1e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/57.16e2ee0f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/58.9a2aaf45.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/59.ffbc98ca.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/60.2f0378f6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/61.48d5cb77.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/62.d4b98cab.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/63.a38f0a82.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/64.55cfafe9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/65.9c2c0e6e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/66.3a385039.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/67.35016ab7.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/68.5757afa5.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/69.0af27505.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/70.e8820dd2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/71.4e3daa58.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/72.39f2ed81.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/73.3bb432b6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/74.c7a3d65c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/75.c108f6fe.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/76.eb30d2bc.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/77.66902479.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/78.c04843a3.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/79.730177b2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/80.c48bac9d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/81.22453812.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/82.4a82fe90.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/83.763222e1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/84.44fb599c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/85.5f045b03.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/86.b1e6e55c.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/87.04c255c8.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/88.c0269d42.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/89.9b4196e2.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/90.0fcca1ae.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/91.910722ee.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/92.71f724d6.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/93.c0ef4d48.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/94.ecc7dec5.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/95.9cb50958.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/96.b919a6d9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/97.c3ebfb80.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/98.8366ed13.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/99.3d947a5f.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/100.06ea979e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/101.cf57315d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/102.0136d842.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/103.26263e59.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/104.6ecb0918.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/105.f74263f7.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/106.68a746e1.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/107.09b6cd14.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/108.cd0febda.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/109.c4b1b1ab.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/110.34bc67fa.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/111.81f9280e.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/112.3a9d54e9.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/113.d17c2987.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/114.d3a1f884.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/115.406c2694.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/116.1aa9dc14.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/117.4299c666.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/118.c0a9ae70.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/119.fbfc4c9d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/120.8e05ee98.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/121.a9bf379d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/122.2f8eb905.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/123.4a15f264.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/124.6ae25e1a.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/125.e2aac287.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/126.5838ff03.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/127.84893f05.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/128.9f35645d.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/129.fffe1864.js"><link rel="prefetch" href="/docs/2.1.0/assets/js/130.1f26b6d7.js">
    <link rel="stylesheet" href="/docs/2.1.0/assets/css/0.styles.5d0cfcb7.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.1.0/es/" class="home-link router-link-active"><img src="/docs/2.1.0/images/logo.svg" alt="DocumentaciÃ³n SiteWhere CE 2.1.0" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.1.0/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/docs/2.1.0/es/deployment/" class="nav-link">InstalaciÃ³n</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GuÃ­as del usuario</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/architecture/" class="nav-link">GuÃ­a de Arquitectura</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/deployment/" class="nav-link">GuÃ­a de Despliegue</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/administration/" class="nav-link">GuÃ­a de AdministraciÃ³n del Sistema</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/" class="nav-link router-link-active">GuÃ­as de IntegraciÃ³n con Dispositivos</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/microservices/" class="nav-link">GuÃ­a de Microservicios</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/api/" class="nav-link">GuÃ­as de APIs</a></li></ul></div></div><div class="nav-item"><a href="/docs/2.1.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/guide/devices/sending-data.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/sending-data.html" class="nav-link router-link-exact-active router-link-active">EspaÃ±ol</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.1.0/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/docs/2.1.0/es/deployment/" class="nav-link">InstalaciÃ³n</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">GuÃ­as del usuario</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/architecture/" class="nav-link">GuÃ­a de Arquitectura</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/deployment/" class="nav-link">GuÃ­a de Despliegue</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/administration/" class="nav-link">GuÃ­a de AdministraciÃ³n del Sistema</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/" class="nav-link router-link-active">GuÃ­as de IntegraciÃ³n con Dispositivos</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/microservices/" class="nav-link">GuÃ­a de Microservicios</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/api/" class="nav-link">GuÃ­as de APIs</a></li></ul></div></div><div class="nav-item"><a href="/docs/2.1.0/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.1.0/guide/devices/sending-data.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.1.0/es/guide/devices/sending-data.html" class="nav-link router-link-exact-active router-link-active">EspaÃ±ol</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.1.0/es/guide/devices/sending-data.html" class="active sidebar-link">ğŸ“– Enviar datos a SiteWhere 2.0</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.1.0/es/guide/devices/sending-data.html#enviando-datos-del-dispositivo" class="sidebar-link">Enviando datos del dispositivo</a></li></ul></li><li><a href="/docs/2.1.0/es/guide/devices/android.html" class="sidebar-link">ğŸ“– ProgramaciÃ³n de Dispositivos Androids con el SDK de SiteWhere</a></li><li><a href="/docs/2.1.0/es/guide/devices/kura.html" class="sidebar-link">ğŸ“– ProgramaciÃ³n de Dispositivos con el Kura</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="enviar-datos-a-sitewhere-2-0"><a href="#enviar-datos-a-sitewhere-2-0" aria-hidden="true" class="header-anchor">#</a> ğŸ“– Enviar datos a SiteWhere 2.0</h1> <span></span> <p>SiteWhere estÃ¡ diseÃ±ado para ser flexible en la forma en que envÃ­a y recibe datos de dispositivos y otros agentes.
La mayorÃ­a de los protocolos y codificaciones de comunicaciÃ³n mÃ¡s populares son compatibles de fÃ¡brica,
pero el sistema tambiÃ©n estÃ¡ diseÃ±ado para ser extendido fÃ¡cilmente. Cada inquilino del sistema puede tener
cualquier nÃºmero de protocolos configurados para comunicarse con dispositivos. De forma predeterminada,
los inquilinos estÃ¡n configurados para comunicarse a travÃ©s de MQTT con soporte para mÃºltiples codificaciones
para permitir interacciones con muchos tipos de dispositivos.</p> <h2 id="enviando-datos-del-dispositivo"><a href="#enviando-datos-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviando datos del dispositivo</h2> <h3 id="formato-del-paquete-json"><a href="#formato-del-paquete-json" aria-hidden="true" class="header-anchor">#</a> Formato del Paquete JSON</h3> <p>Las siguientes secciones muestran ejemplos de datos JSON estructurados para interactuar con SiteWhere.
Todos los paquetes JSON comparten informaciÃ³n comÃºn como se muestra a continuaciÃ³n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(Token Ãºnico del dispositivo)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(indicador del pedido)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;(originator of the message)&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    ...
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">DescripciÃ³n</th></tr></thead> <tbody><tr><td style="text-align:left">deviceToken</td> <td style="text-align:left">El token del dispositivo que identifica de forma Ãºnica un dispositivo dentro de un inquilino. Esto informa al sistema quÃ© dispositivo estÃ¡ generando eventos.</td></tr> <tr><td style="text-align:left">type</td> <td style="text-align:left">El tipo de solicitud para el dispositivo. Esto indica cÃ³mo deben interpretarse los datos en la secciÃ³n <em>request</em>.</td></tr> <tr><td style="text-align:left">originator</td> <td style="text-align:left">Este campo es utilizado por los dispositivos si envÃ­an un evento en respuesta a un comando, indicando el <em>id</em> del comando.</td></tr> <tr><td style="text-align:left">request</td> <td style="text-align:left">El contenido de la solicitud que es especÃ­fico para el tipo de paquete que se envÃ­a, como lo indica el campo <em>type</em>.</td></tr></tbody></table> <h3 id="enviando-datos-del-dispositivo-usando-profocol-buffer"><a href="#enviando-datos-del-dispositivo-usando-profocol-buffer" aria-hidden="true" class="header-anchor">#</a> Enviando datos del dispositivo usando Profocol Buffer</h3> <p>To send data to SiteWhere using Protocol Buffers, use the <code>sitewhere-device-protobuf</code> library provided by
the SiteWhere development team. To import it using <a href="https://gradle.org" target="_blank" rel="noopener noreferrer">Gradle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> use the instruction.</p> <div class="language-groovy extra-class"><pre class="language-groovy"><code>compile group<span class="token punctuation">:</span> <span class="token string">'com.sitewhere'</span><span class="token punctuation">,</span> name<span class="token punctuation">:</span> <span class="token string">'sitewhere-device-protobuf'</span><span class="token punctuation">,</span> version<span class="token punctuation">:</span><span class="token string">'2.0.4'</span>
</code></pre></div><p>To import the library from a project <a href="https://maven.apache.org/" target="_blank" rel="noopener noreferrer">Maven<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> use the following entry in your <code>pom.xml</code>.</p> <div class="language-xml extra-class"><pre class="language-xml"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>dependency</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>groupId</span><span class="token punctuation">&gt;</span></span>com.sitewhere<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>groupId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>artifactId</span><span class="token punctuation">&gt;</span></span>sitewhere-device-protobuf<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>artifactId</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>version</span><span class="token punctuation">&gt;</span></span>2.0.4<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>version</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>dependency</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h3 id="registrar-un-dispositivo"><a href="#registrar-un-dispositivo" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo</h3> <p>Antes de que los dispositivos puedan enviar datos de eventos, deben registrarse con el sistema.
SiteWhere enviarÃ¡ una respuesta en el canal de comando del sistema para indicar si el dispositivo podrÃ­a registrarse.
TambiÃ©n indicarÃ¡ si el dispositivo ya estaba registrado o no.</p> <h4 id="registrar-un-dispositivo-con-json"><a href="#registrar-un-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo con JSON</h4> <p>El siguiente paquete JSON se puede usar para registrar un dispositivo:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;RegisterDevice&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span> <span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;areaToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;southeast&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;customerToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;acme&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;deviceTypeToken&quot;</span><span class="token operator">:</span> <span class="token string">&quot;raspberrypi&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">DescripciÃ³n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>RegisterDevice</code></td></tr> <tr><td style="text-align:left">areaToken</td> <td style="text-align:left">Un token que especifica el <code>Area</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">customerToken</td> <td style="text-align:left">Un token que especifica el <code>Customer</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">deviceTypeToken</td> <td style="text-align:left">Un token que especifica el <code>Device Type</code> del dispositivo que se esta registrado.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">La metadata del dispositivo que se esta registrado.</td></tr></tbody></table> <h4 id="registrar-un-dispositivo-con-profocol-buffer"><a href="#registrar-un-dispositivo-con-profocol-buffer" aria-hidden="true" class="header-anchor">#</a> Registrar un Dispositivo con Profocol Buffer</h4> <p>De igual manera, se puede registrar el dispositivo utilizando Java y Protocol Buffers de la siguiente manera:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendRegistration<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span>
  SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

builder<span class="token punctuation">.</span><span class="token function">getAreaTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;myareatoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">getCustomerTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mycustomertoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">getDeviceTypeTokenBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">putAllMetadata</span><span class="token punctuation">(</span>myMetadata<span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceRegistrationRequest payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-mediciones-del-dispositivo"><a href="#enviar-mediciones-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo</h3> <h4 id="enviar-mediciones-del-dispositivo-con-json"><a href="#enviar-mediciones-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo con JSON</h4> <p>SiteWhere admite el almacenamiento de mediciones relacionadas con un dispositivo como datos de eventos.
El formato JSON para enviar una mediciÃ³n del dispositivo se muestra a continuaciÃ³n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceMeasurement&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span><span class="token punctuation">{</span>
    <span class="token property">&quot;name&quot;</span><span class="token operator">:</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;value&quot;</span><span class="token operator">:</span><span class="token string">&quot;34.7&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateState&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span><span class="token string">&quot;2018-11-21T22:10:13.418-0300&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;metadata&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
      <span class="token property">&quot;name1&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val1&quot;</span><span class="token punctuation">,</span>
      <span class="token property">&quot;name2&quot;</span><span class="token operator">:</span> <span class="token string">&quot;val2&quot;</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">DescripciÃ³n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceMeasurement</code></td></tr> <tr><td style="text-align:left">name</td> <td style="text-align:left">Nombre de la medeciÃ³n que se estÃ¡ enviando.</td></tr> <tr><td style="text-align:left">value</td> <td style="text-align:left">Valor de la medeciÃ³n que se estÃ¡ enviando.</td></tr> <tr><td style="text-align:left">updateState</td> <td style="text-align:left">Si es <code>true</code>, actualiza el <code>DeviceState</code> de la asigaciÃ³n.</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-mediciones-del-dispositivo-con-protocol-buffers"><a href="#enviar-mediciones-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Mediciones del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una mediciÃ³n del dispositivo se muestra a continuaciÃ³n:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendMeasurement<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementName</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementValue</span><span class="token punctuation">(</span>GOptionalDouble<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">34.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-ubicacion-del-dispositivo"><a href="#enviar-ubicacion-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar UbicaciÃ³n del Dispositivo</h3> <p>SiteWhere admite el almacenamiento de ubicaciones relacionadas con un dispositivo como datos de eventos.</p> <h4 id="enviar-ubicacion-del-dispositivo-con-json"><a href="#enviar-ubicacion-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar UbicaciÃ³n del Dispositivo con JSON</h4> <p>El formato JSON para enviar una ubicaciÃ³n de dispositivo se muestra a continuaciÃ³n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceLocation&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;latitude&quot;</span><span class="token operator">:</span> <span class="token string">&quot;33.75&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;latitude&quot;</span><span class="token operator">:</span> <span class="token string">&quot;-84.39&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;elevation&quot;</span><span class="token operator">:</span> <span class="token string">&quot;1&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;updateState&quot;</span><span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-03T19:40:03.390Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">DescripciÃ³n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceLocation</code></td></tr> <tr><td style="text-align:left">latitude</td> <td style="text-align:left">Latitud de la UbicaciÃ³n que se estÃ¡ enviando.</td></tr> <tr><td style="text-align:left">latitude</td> <td style="text-align:left">Longitud de la UbicaciÃ³n que se estÃ¡ enviando.</td></tr> <tr><td style="text-align:left">elevation</td> <td style="text-align:left">ElevaciÃ³n de la UbicaciÃ³n que se estÃ¡ enviando.</td></tr> <tr><td style="text-align:left">updateState</td> <td style="text-align:left">Si es <code>true</code>, actualiza el <code>DeviceState</code> de la asigaciÃ³n.</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-ubicacion-del-dispositivo-con-protocol-buffers"><a href="#enviar-ubicacion-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar UbicaciÃ³n del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una ubicaciÃ³n de dispositivo se muestra a continuaciÃ³n:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendLocation<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementName</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;temp&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setMeasurementValue</span><span class="token punctuation">(</span>GOptionalDouble<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token number">34.7</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceMeasurement payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="enviar-alertas-del-dispositivo"><a href="#enviar-alertas-del-dispositivo" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo</h3> <p>SiteWhere admite el almacenamiento de alertas relacionadas con un dispositivo como datos de eventos.</p> <h4 id="enviar-alertas-del-dispositivo-con-json"><a href="#enviar-alertas-del-dispositivo-con-json" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo con JSON</h4> <p>El formato JSON para enviar una alerta de dispositivo se muestra a continuaciÃ³n:</p> <div class="language-json extra-class"><pre class="language-json"><code><span class="token punctuation">{</span>
  <span class="token property">&quot;type&quot;</span><span class="token operator">:</span><span class="token string">&quot;DeviceAlert&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;originator&quot;</span><span class="token operator">:</span><span class="token string">&quot;device&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;deviceToken&quot;</span><span class="token operator">:</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">,</span>
  <span class="token property">&quot;request&quot;</span><span class="token operator">:</span> <span class="token punctuation">{</span>
    <span class="token property">&quot;type&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Warning&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;message&quot;</span><span class="token operator">:</span> <span class="token string">&quot;Engine overheat.&quot;</span><span class="token punctuation">,</span>
    <span class="token property">&quot;eventDate&quot;</span><span class="token operator">:</span> <span class="token string">&quot;2018-11-03T19:40:03.390Z&quot;</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</code></pre></div><table><thead><tr><th style="text-align:left">Campo</th> <th style="text-align:left">DescripciÃ³n</th></tr></thead> <tbody><tr><td style="text-align:left">type</td> <td style="text-align:left"><code>DeviceAlert</code></td></tr> <tr><td style="text-align:left">type</td> <td style="text-align:left">Tipo de Alerta <code>Info</code>,<code>Warning</code>,<code>Error</code>,<code>Fatal</code></td></tr> <tr><td style="text-align:left">message</td> <td style="text-align:left">Mensaje asociado a la Alerta</td></tr> <tr><td style="text-align:left">eventDate</td> <td style="text-align:left">Timestamp del evento.</td></tr> <tr><td style="text-align:left">metadata</td> <td style="text-align:left">The metadata del evento.</td></tr></tbody></table> <h4 id="enviar-alertas-del-dispositivo-con-protocol-buffers"><a href="#enviar-alertas-del-dispositivo-con-protocol-buffers" aria-hidden="true" class="header-anchor">#</a> Enviar Alertas del Dispositivo con Protocol Buffers</h4> <p>El formato Protocol Buffers para enviar una alerta de dispositivo se muestra a continuaciÃ³n:</p> <div class="language-java extra-class"><pre class="language-java"><code><span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">;</span>
<span class="token keyword">import</span> com<span class="token punctuation">.</span>sitewhere<span class="token punctuation">.</span>communication<span class="token punctuation">.</span>protobuf<span class="token punctuation">.</span>proto<span class="token punctuation">.</span>SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Command<span class="token punctuation">;</span>

<span class="token punctuation">.</span><span class="token punctuation">.</span><span class="token punctuation">.</span>

<span class="token comment">// Header</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span>Builder headerBuilder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>Header<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Command</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setCommand</span><span class="token punctuation">(</span>Command<span class="token punctuation">.</span>SendAlert<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">// Device Token</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setDeviceToken</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;mydevicetoken&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token comment">//Originator</span>
headerBuilder<span class="token punctuation">.</span><span class="token function">setOriginator</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;originator&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// Payload</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert<span class="token punctuation">.</span>Builder builder <span class="token operator">=</span> SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setEventDate</span><span class="token punctuation">(</span>GOptionalFixed64<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token keyword">new</span> <span class="token class-name">Date</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">getTime</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setAlertType</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;Warning&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
builder<span class="token punctuation">.</span><span class="token function">setAlertMessage</span><span class="token punctuation">(</span>GOptionalString<span class="token punctuation">.</span><span class="token function">newBuilder</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">setValue</span><span class="token punctuation">(</span><span class="token string">&quot;Engine overheat.&quot;</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
SiteWhere<span class="token punctuation">.</span>DeviceEvent<span class="token punctuation">.</span>DeviceAlert payload <span class="token operator">=</span> builder<span class="token punctuation">.</span><span class="token function">build</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/sitewhere-2.1.0/docs/es/guide/devices/sending-data.md" target="_blank" rel="noopener noreferrer">Edita esta pÃ¡gina en GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Ãšltima actualizaciÃ³n: </span> <span class="time">2019-7-22 13:56:35</span></div></div> <div class="page-nav"><p class="inner"><!----> <span class="next"><a href="/docs/2.1.0/es/guide/devices/android.html">
          ğŸ“– ProgramaciÃ³n de Dispositivos Androids con el SDK de SiteWhere
        </a>
        â†’
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.1.0/assets/js/41.f04b460c.js" defer></script><script src="/docs/2.1.0/assets/js/7.eeccdef4.js" defer></script><script src="/docs/2.1.0/assets/js/app.bde6658e.js" defer></script>
  </body>
</html>
