(window.webpackJsonp=window.webpackJsonp||[]).push([[73],{245:function(t,a,e){"use strict";e.r(a);var s=e(1),n=Object(s.a)({},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"content"},[t._m(0),t._v(" "),e("Seo"),t._v(" "),e("p",[t._v("SiteWhere provides a Java API for accessing the REST API of SiteWhere. This guide shows how to use\nSiteWhere Java API to interact with an instance of SiteWhere.")]),t._v(" "),t._m(1),t._v(" "),e("p",[t._v("SiteWhere Java Client library is published on "),e("a",{attrs:{href:"https://search.maven.org/search?q=a:sitewhere-java-client",target:"_blank",rel:"noopener noreferrer"}},[t._v("Maven Central"),e("OutboundLink")],1),t._v("\nfor using dependency management tools, such as Apache Maven or Gradle.")]),t._v(" "),e("p",[t._v("If you are using "),e("a",{attrs:{href:"https://maven.apache.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Apache Maven"),e("OutboundLink")],1),t._v(", add the following dependency to your "),e("code",[t._v("pom.xml")]),t._v(".")]),t._v(" "),t._m(2),e("p",[t._v("If you are using "),e("a",{attrs:{href:"https://gradle.org/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Gradle"),e("OutboundLink")],1),t._v(", add the following dependency to your "),e("code",[t._v("build.gradle")]),t._v(".")]),t._v(" "),t._m(3),t._m(4),t._v(" "),e("p",[t._v("A new client with the default settings may be created as follows:")]),t._v(" "),t._m(5),e("p",[t._v("The default settings are:")]),t._v(" "),t._m(6),t._v(" "),t._m(7),t._v(" "),t._m(8),t._v(" "),e("p",[t._v("To change the default connection settings use:")]),t._v(" "),t._m(9),e("p",[t._v("To connect as a different user user:")]),t._v(" "),t._m(10),t._m(11),t._v(" "),e("p",[t._v("Once the client has been initialized, methods on it may be invoked to interact with the data\nmodel on the remote SiteWhere instance. There are two types of calls, global calls and\ntenant-specific calls.")]),t._v(" "),e("p",[t._v("The image below shows an UML Class Diagram of SiteWhere Object Model that can help you undestand\nthe component of the system.")]),t._v(" "),e("InlineImage",{attrs:{src:"/images/guide/api/object-model.png",caption:"SiteWhere Object Model UML Class Diagram"}}),t._v(" "),t._m(12),t._v(" "),e("p",[t._v("For global calls, no extra information is required in order to make the invocation.")]),t._v(" "),e("ul",[e("li",[e("router-link",{attrs:{to:"./system-api/"}},[t._v("System API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./user-api/"}},[t._v("Users API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./tenant-api/"}},[t._v("Tenant API")])],1)]),t._v(" "),t._m(13),t._v(" "),e("p",[t._v("For calls that are tenant-specific, more information must be passed along with each method invocation.\nYou must provide the tenant id and tenant authentication token which are passed as headers to the REST\ncall (along with the JWT used for all calls).")]),t._v(" "),e("ul",[e("li",[e("router-link",{attrs:{to:"./area-api/"}},[t._v("Area API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./area-type-api/"}},[t._v("Area Type API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./asset-api/"}},[t._v("Asset API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./asset-type-api/"}},[t._v("Asset Type API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./batch-operations-api/"}},[t._v("Batch Operations API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./command-invocations-api/"}},[t._v("Command Invocation API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./customer-api/"}},[t._v("Customer API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./customer-type-api/"}},[t._v("Customer Type API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-api/"}},[t._v("Device API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./assignment-api/"}},[t._v("Device Assignment API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-command-api/"}},[t._v("Device Command API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-event-api/"}},[t._v("Device Event API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-group-api/"}},[t._v("Device Group API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-state-api/"}},[t._v("Device State API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-state-api/"}},[t._v("Device Status API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./device-type-api/"}},[t._v("Device Type API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./schedule-api/"}},[t._v("Schedule API")])],1),t._v(" "),e("li",[e("router-link",{attrs:{to:"./scheduled-job-api/"}},[t._v("Scheduled Job API")])],1)])],1)},[function(){var t=this.$createElement,a=this._self._c||t;return a("h1",{attrs:{id:"using-sitewhere-java-api"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#using-sitewhere-java-api","aria-hidden":"true"}},[this._v("#")]),this._v(" ðŸ“– Using SiteWhere Java API")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"importing-the-library"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#importing-the-library","aria-hidden":"true"}},[this._v("#")]),this._v(" Importing the Library")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-xml extra-class"},[e("pre",{pre:!0,attrs:{class:"language-xml"}},[e("code",[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("dependency")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("groupId")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("com.sitewhere"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("groupId")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("artifactId")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("sitewhere-java-client"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("artifactId")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n    "),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("<")]),t._v("version")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("2.1.x"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("version")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n"),e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token tag"}},[e("span",{attrs:{class:"token punctuation"}},[t._v("</")]),t._v("dependency")]),e("span",{attrs:{class:"token punctuation"}},[t._v(">")])]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"language-groovy extra-class"},[a("pre",{pre:!0,attrs:{class:"language-groovy"}},[a("code",[this._v("implementation "),a("span",{attrs:{class:"token string"}},[this._v("'com.sitewhere:sitewhere-java-client:2.1.x'")]),this._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"creating-a-client-instance"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#creating-a-client-instance","aria-hidden":"true"}},[this._v("#")]),this._v(" Creating a client instance")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("ISiteWhereClient client "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhereClient"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("build")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("initialize")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("table",[e("thead",[e("tr",[e("th",{staticStyle:{"text-align":"left"}},[t._v("Attribute")]),t._v(" "),e("th",{staticStyle:{"text-align":"left"}},[t._v("Value")])])]),t._v(" "),e("tbody",[e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Protocol")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("HTTP")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Hostname")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("localhost")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Port")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("80")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Username")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("admin")])]),t._v(" "),e("tr",[e("td",{staticStyle:{"text-align":"left"}},[t._v("Password")]),t._v(" "),e("td",{staticStyle:{"text-align":"left"}},[t._v("password")])])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("div",{staticClass:"warning custom-block"},[a("p",{staticClass:"custom-block-title"},[this._v("WARNING")]),this._v(" "),a("p",[this._v("Since SiteWhere 2.1.x the default "),a("code",[this._v("Port")]),this._v(" number changed from 8080 to 80.")])])},function(){var t=this.$createElement,a=this._self._c||t;return a("p",[this._v("Note that the "),a("code",[this._v("initialize()")]),this._v(" method must be called before using the client. This sets\nup the template and connects to the server to acquire a JWT.")])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("SiteWhereClient client "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhereClient"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("withConnectionTo")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"https"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"myhost"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token number"}},[t._v("8081")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("build")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("initialize")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"language-java extra-class"},[e("pre",{pre:!0,attrs:{class:"language-java"}},[e("code",[t._v("SiteWhereClient client "),e("span",{attrs:{class:"token operator"}},[t._v("=")]),t._v(" SiteWhereClient"),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("newBuilder")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("forUser")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token string"}},[t._v('"myuser"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(",")]),t._v(" "),e("span",{attrs:{class:"token string"}},[t._v('"mypassword"')]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n    "),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("build")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(".")]),e("span",{attrs:{class:"token function"}},[t._v("initialize")]),e("span",{attrs:{class:"token punctuation"}},[t._v("(")]),e("span",{attrs:{class:"token punctuation"}},[t._v(")")]),e("span",{attrs:{class:"token punctuation"}},[t._v(";")]),t._v("\n")])])])},function(){var t=this.$createElement,a=this._self._c||t;return a("h2",{attrs:{id:"interacting-with-sitewhere-object-model"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#interacting-with-sitewhere-object-model","aria-hidden":"true"}},[this._v("#")]),this._v(" Interacting with SiteWhere Object Model")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"global-calls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#global-calls","aria-hidden":"true"}},[this._v("#")]),this._v(" Global Calls")])},function(){var t=this.$createElement,a=this._self._c||t;return a("h3",{attrs:{id:"tenant-calls"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#tenant-calls","aria-hidden":"true"}},[this._v("#")]),this._v(" Tenant Calls")])}],!1,null,null,null);n.options.__file="README.md";a.default=n.exports}}]);