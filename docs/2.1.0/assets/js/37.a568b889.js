(window.webpackJsonp=window.webpackJsonp||[]).push([[37],{234:function(a,t,n){"use strict";n.r(t);var s=n(1),e=Object(s.a)({},function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"content"},[a._m(0),a._v(" "),n("p",[a._v("El microservicio global de administración de inquilinos proporciona las API principales\ny la persistencia de datos para administrar inquilinos del sistema. Inicialmente, el\nmicroservicio de administración de instancias lo utiliza para iniciar el sistema con\ninquilinos base. Posteriormente, es llamado por el microservicio Web/REST para permitir\nla administración de la lista de inquilinos del sistema.")]),a._v(" "),n("p",[a._v("Cuando se agrega/actualiza/elimina un inquilino, los datos del inquilino se envían\na un tema Kafka para que otros oyentes interesados ​​puedan actuar en la actualización.\nDe forma predeterminada, un oyente está registrado para impulsar a los inquilinos recién\ncreados al agregar la jerarquía de configuración de inquilinos esperada en ZooKeeper.\nEste proceso incluye copiar los archivos de configuración XML por microservicio de la\nplantilla del arrendatario en ZooKeeper, luego ejecutar la lista de scripts de inicialización\nincluidos con la plantilla. Una vez que se completa este proceso, la configuración del\narrendatario se marca como reforzada para que otros microservicios puedan reaccionar al\narrendatario agregado. Por ejemplo, el microservicio de administración de dispositivos\nnotará que se ha configurado un nuevo inquilino y esperará el indicador de arranque,\nluego cargará el archivo de configuración device-management.xml para inicializar un nuevo\nmotor de inquilino de administración de dispositivos para el inquilino agregado. Cada vez\nque se cambian los archivos dentro de un inquilino, los cambios se transmiten a los motores\nde inquilinos que se ejecutan en todos los demás microservicios para que puedan reaccionar\na los cambios. En el ejemplo anterior, si se están ejecutando varios microservicios de\nadministración de dispositivos (escala> 1), cada microservicio detectará las actualizaciones\ny volverá a cargar los motores de inquilinos para reflejar las actualizaciones.")]),a._v(" "),a._m(1),a._v(" "),a._m(2),a._v(" "),a._m(3),a._v(" "),n("p",[n("a",{attrs:{href:"http://sitewhere.io/schema/sitewhere/microservice/tenant-management/current/tenant-management.xsd",target:"_blank",rel:"noopener noreferrer"}},[a._v("Tenant Management Configuration XML Schema"),n("OutboundLink")],1)]),a._v(" "),a._m(4),a._v(" "),a._m(5)])},[function(){var a=this.$createElement,t=this._self._c||a;return t("h1",{attrs:{id:"tenant-management-microservice"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#tenant-management-microservice","aria-hidden":"true"}},[this._v("#")]),this._v(" Tenant Management Microservice")])},function(){var a=this.$createElement,t=this._self._c||a;return t("h2",{attrs:{id:"dependencias-del-microservicio"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#dependencias-del-microservicio","aria-hidden":"true"}},[this._v("#")]),this._v(" Dependencias del Microservicio")])},function(){var a=this.$createElement,t=this._self._c||a;return t("ul",[t("li",[t("strong",[this._v("Instance Management")]),this._v(" - Requerido para arrancar inicialmente los datos de Zookeeper.")])])},function(){var a=this.$createElement,t=this._self._c||a;return t("h2",{attrs:{id:"esquema-de-configuracion"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#esquema-de-configuracion","aria-hidden":"true"}},[this._v("#")]),this._v(" Esquema de Configuración")])},function(){var a=this.$createElement,t=this._self._c||a;return t("h3",{attrs:{id:"configuracion-de-ejemplo"}},[t("a",{staticClass:"header-anchor",attrs:{href:"#configuracion-de-ejemplo","aria-hidden":"true"}},[this._v("#")]),this._v(" Configuración de Ejemplo")])},function(){var a=this,t=a.$createElement,n=a._self._c||t;return n("div",{staticClass:"language-xml extra-class"},[n("pre",{pre:!0,attrs:{class:"language-xml"}},[n("code",[n("span",{attrs:{class:"token prolog"}},[a._v('<?xml version="1.0" encoding="UTF-8"?>')]),a._v("\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("<")]),a._v("beans")]),a._v(" "),n("span",{attrs:{class:"token attr-name"}},[a._v("xmlns")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("http://www.springframework.org/schema/beans"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n\t"),n("span",{attrs:{class:"token attr-name"}},[n("span",{attrs:{class:"token namespace"}},[a._v("xmlns:")]),a._v("ds")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("http://sitewhere.io/schema/sitewhere/microservice/common/datastore"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n\t"),n("span",{attrs:{class:"token attr-name"}},[n("span",{attrs:{class:"token namespace"}},[a._v("xmlns:")]),a._v("xsi")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("http://www.w3.org/2001/XMLSchema-instance"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{attrs:{class:"token attr-name"}},[n("span",{attrs:{class:"token namespace"}},[a._v("xmlns:")]),a._v("context")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("http://www.springframework.org/schema/context"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n\t"),n("span",{attrs:{class:"token attr-name"}},[n("span",{attrs:{class:"token namespace"}},[a._v("xmlns:")]),a._v("tm")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("http://sitewhere.io/schema/sitewhere/microservice/tenant-management"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v("\n\t"),n("span",{attrs:{class:"token attr-name"}},[n("span",{attrs:{class:"token namespace"}},[a._v("xsi:")]),a._v("schemaLocation")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("\n           http://www.springframework.org/schema/beans http://www.springframework.org/schema/beans/spring-beans-3.1.xsd\n           http://www.springframework.org/schema/context http://www.springframework.org/schema/context/spring-context-3.1.xsd\n           http://sitewhere.io/schema/sitewhere/microservice/common/datastore http://sitewhere.io/schema/sitewhere/microservice/common/current/datastore-common.xsd\n           http://sitewhere.io/schema/sitewhere/microservice/tenant-management http://sitewhere.io/schema/sitewhere/microservice/tenant-management/current/tenant-management.xsd"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),n("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n\t"),n("span",{attrs:{class:"token comment"}},[a._v("\x3c!-- Tenant Management Configuration --\x3e")]),a._v("\n\t"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{attrs:{class:"token namespace"}},[a._v("tm:")]),a._v("tenant-management")]),n("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n\t\t"),n("span",{attrs:{class:"token comment"}},[a._v("\x3c!-- Use global MongoDB configuration --\x3e")]),a._v("\n\t\t"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{attrs:{class:"token namespace"}},[a._v("ds:")]),a._v("device-management-datastore")]),n("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\t\t\t"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("<")]),n("span",{attrs:{class:"token namespace"}},[a._v("ds:")]),a._v("mongodb-datastore-reference")]),a._v(" "),n("span",{attrs:{class:"token attr-name"}},[a._v("id")]),n("span",{attrs:{class:"token attr-value"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("=")]),n("span",{attrs:{class:"token punctuation"}},[a._v('"')]),a._v("global"),n("span",{attrs:{class:"token punctuation"}},[a._v('"')])]),a._v(" "),n("span",{attrs:{class:"token punctuation"}},[a._v("/>")])]),a._v("\n\t\t"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("</")]),n("span",{attrs:{class:"token namespace"}},[a._v("ds:")]),a._v("device-management-datastore")]),n("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n\t"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("</")]),n("span",{attrs:{class:"token namespace"}},[a._v("tm:")]),a._v("tenant-management")]),n("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n\n"),n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token tag"}},[n("span",{attrs:{class:"token punctuation"}},[a._v("</")]),a._v("beans")]),n("span",{attrs:{class:"token punctuation"}},[a._v(">")])]),a._v("\n")])])])}],!1,null,null,null);e.options.__file="tenant-management.md";t.default=e.exports}}]);