<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>SiteWhere Development Guide | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0-RC2 Documentation">
    
    
    <link rel="preload" href="/assets/css/0.styles.5aefda53.css" as="style"><link rel="preload" href="/assets/js/app.30ef3b9b.js" as="script"><link rel="preload" href="/assets/js/7.adcf453d.js" as="script"><link rel="preload" href="/assets/js/4.62110963.js" as="script"><link rel="prefetch" href="/assets/js/15.cebab772.js"><link rel="prefetch" href="/assets/js/2.afb7252f.js"><link rel="prefetch" href="/assets/js/3.bfb81d55.js"><link rel="prefetch" href="/assets/js/5.59ede072.js"><link rel="prefetch" href="/assets/js/6.c138f168.js"><link rel="prefetch" href="/assets/js/8.80173e00.js"><link rel="prefetch" href="/assets/js/9.cb98154c.js"><link rel="prefetch" href="/assets/js/10.fd27a369.js"><link rel="prefetch" href="/assets/js/11.51e83dc9.js"><link rel="prefetch" href="/assets/js/12.7dbaf8d4.js"><link rel="prefetch" href="/assets/js/13.d6eac997.js"><link rel="prefetch" href="/assets/js/14.d953024d.js"><link rel="prefetch" href="/assets/js/16.5a1a00e7.js"><link rel="prefetch" href="/assets/js/17.1b790335.js"><link rel="prefetch" href="/assets/js/18.da9f1def.js"><link rel="prefetch" href="/assets/js/19.d81bee4e.js"><link rel="prefetch" href="/assets/js/20.cded3432.js"><link rel="prefetch" href="/assets/js/21.b5c12c97.js"><link rel="prefetch" href="/assets/js/22.80ea4b39.js"><link rel="prefetch" href="/assets/js/23.cf39a4d1.js"><link rel="prefetch" href="/assets/js/24.db42e1f8.js"><link rel="prefetch" href="/assets/js/25.db1b249a.js"><link rel="prefetch" href="/assets/js/26.7f2ab2e1.js"><link rel="prefetch" href="/assets/js/27.17a4ebb2.js"><link rel="prefetch" href="/assets/js/28.6fe21b30.js"><link rel="prefetch" href="/assets/js/29.0c9ceb81.js"><link rel="prefetch" href="/assets/js/30.ba35881e.js"><link rel="prefetch" href="/assets/js/31.9532abde.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5aefda53.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/" class="home-link router-link-active"><img src="/images/logo.png" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/guide/" class="nav-link">User Guide</a></div><div class="nav-item"><a href="/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><a href="/development/" class="nav-link router-link-exact-active router-link-active">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/development/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/es/development/" class="nav-link">Español</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/guide/" class="nav-link">User Guide</a></div><div class="nav-item"><a href="/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><a href="/development/" class="nav-link router-link-exact-active router-link-active">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/development/" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/es/development/" class="nav-link">Español</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/development/" class="active sidebar-link">SiteWhere Development Guide</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/development/#accessing-source-code-on-github" class="sidebar-link">Accessing Source Code on GitHub</a></li><li class="sidebar-sub-header"><a href="/development/#next-steps" class="sidebar-link">Next Steps</a></li></ul></li></ul> </div> <div class="page"> <div class="content"><h1 id="sitewhere-development-guide"><a href="#sitewhere-development-guide" aria-hidden="true" class="header-anchor">#</a> SiteWhere Development Guide</h1> <p>This guide provides information intended for developers interested
in building SiteWhere components from source code. It provides details
about downloading the source code, installing the required build tools,
then building Docker images that can be used to deploy an instance.</p> <h2 id="accessing-source-code-on-github"><a href="#accessing-source-code-on-github" aria-hidden="true" class="header-anchor">#</a> Accessing Source Code on GitHub</h2> <p>The source code for SiteWhere is available on <a href="https://github.com/" target="_blank" rel="noopener noreferrer">GitHub<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
at the following location:</p> <p><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer">SiteWhere Core Repository<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>The repository includes source code as well as issue tracking and other
aspects of the development ecosystem.</p> <h3 id="branch-structure-for-repository"><a href="#branch-structure-for-repository" aria-hidden="true" class="header-anchor">#</a> Branch Structure for Repository</h3> <p>Source code checked in to the <em>master</em> branch is always from the
latest released version of SiteWhere. Each release is tagged and may be
accessed by downloading an archive from the
<a href="https://github.com/sitewhere/sitewhere/releases" target="_blank" rel="noopener noreferrer">releases<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> page or
by cloning the repository and checking out the branch corresponding to
the release. The branch for the upcoming SiteWhere 2.0 release is available
at the location below:</p> <p><a href="https://github.com/sitewhere/sitewhere/tree/sitewhere-2.0.rc1" target="_blank" rel="noopener noreferrer">SiteWhere 2.0.RC2 Branch<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>New functionality is always developed in a separate branch and is
eventually merged to <em>master</em> as part of the release cycle.</p> <h3 id="pulling-source-code-from-github"><a href="#pulling-source-code-from-github" aria-hidden="true" class="header-anchor">#</a> Pulling Source Code From GitHub</h3> <p>In order to work with the code, it will need to be cloned from GitHub onto
your local machine. The following link covers a few options for installing
a Git client for accesing the repository:</p> <p><a href="https://help.github.com/articles/set-up-git/" target="_blank" rel="noopener noreferrer">Install a Git Client<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>With a Git client installed, start by cloning the SiteWhere core repository.
If using the command line client you can execute the following
commands to clone the repository and change to the current branch:</p> <div class="language-C:\\Users\\Derek\\Documents\\GitHub\\sitewhere-documentation/docs/development/clone-repository.sh extra-class"><pre class="language-text"><code>Not found: C</code></pre></div><p>The result of the commands should look similar to the output below:</p> <a href="/images/development/git-command-line-clone.png"><img src="/images/development/git-command-line-clone.png" alt title="Git Command Line Clone"></a> <h3 id="building-from-source"><a href="#building-from-source" aria-hidden="true" class="header-anchor">#</a> Building from Source</h3> <p>SiteWhere includes build scripts that make it easy to build deployable
artifacts from the source code. Before building the code, there are a couple
of tools that must be installed.</p> <h3 id="install-java-8"><a href="#install-java-8" aria-hidden="true" class="header-anchor">#</a> Install Java 8</h3> <p>All of the core source code is written in Java, so a Java compiler is required.
Recent versions of SiteWhere use features of Java 8, so the JDK or JRE must
be 1.8 or above.</p> <p><a href="http://www.oracle.com/technetwork/java/javase/downloads/index.html" target="_blank" rel="noopener noreferrer">Download and Install Java<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Once installed, the version can be verified as shown below:</p> <a href="/images/development/java-version-check.png"><img src="/images/development/java-version-check.png" alt title="Java Version Check"></a> <h3 id="install-docker-engine"><a href="#install-docker-engine" aria-hidden="true" class="header-anchor">#</a> Install Docker Engine</h3> <p>SiteWhere 2.0 uses Docker as the core deployment model, so the deployment
artifacts from the build process are Docker images. In order to have a local
repository and APIs available for the build scripts to interact with, install
a local copy of Docker Engine as explained below:</p> <p><a href="https://docs.docker.com/engine/installation/" target="_blank" rel="noopener noreferrer">Install Docker Engine<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></p> <p>Verify that Docker Engine has been installed successfully by running the command
below:</p> <a href="/images/development/docker-engine-version.png"><img src="/images/development/docker-engine-version.png" alt title="Docker Engine Version"></a> <p>Configure the Docker daemon is to listen on TCP port 2375. This is the default API
port, but most installations do not enable the port by default. An example of the
required update for Ubuntu 16.04 can be found
<a href="https://www.ivankrizsan.se/2016/05/18/enabling-docker-remote-api-on-ubuntu-16-04/" target="_blank" rel="noopener noreferrer">here<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h3 id="execute-gradle-build-script"><a href="#execute-gradle-build-script" aria-hidden="true" class="header-anchor">#</a> Execute Gradle Build Script</h3> <p>The root folder of the source code contains a <a href="https://gradle.org/" target="_blank" rel="noopener noreferrer">Gradle<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> build
script (<em>build.gradle</em>) that compiles the Java code, packages it into Docker images, then pushes
the images to a Docker repository. By default, the Gradle script will attempt to
push the images to a repository running on <em>localhost</em>. Information for another
repository can be added as an override by adding the following lines the
<em>gradle.properties</em> (or <em>~/.gradle</em> on Unix) file in your default user directory:</p> <div class="language-C:\\Users\\Derek\\Documents\\GitHub\\sitewhere-documentation/docs/development/gradle-docker-repo-props.properties extra-class"><pre class="language-text"><code>Not found: C</code></pre></div><p>SiteWhere includes Gradle <a href="https://docs.gradle.org/current/userguide/gradle_wrapper.html" target="_blank" rel="noopener noreferrer">Wrapper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>
artifacts, so that there is no need to install Gradle independently. To build all of the core
libraries, package the microservices into Docker images and push them into your local
repository, execute the following command.</p> <div class="language-C:\\Users\\Derek\\Documents\\GitHub\\sitewhere-documentation/docs/development/build-docker-images.sh extra-class"><pre class="language-text"><code>Not found: C</code></pre></div><p>The first time the build executes will take significantly longer since Gradle
must download all of the dependencies and cache them for later use. When
the build script completes, execute the following command to view the
list of Docker images which should now include images for all of the
SiteWhere microservices:</p> <a href="/images/development/docker-image-list.png"><img src="/images/development/docker-image-list.png" alt title="Docker Image List"></a> <h3 id="creating-debug-images"><a href="#creating-debug-images" aria-hidden="true" class="header-anchor">#</a> Creating Debug Images</h3> <p>In addition to the standard microservice images, the Gradle build may be parameterized
to generate debug images which expose a port for remote Java debugging. In order to
generate debug images, execute the following command:</p> <div class="language-C:\\Users\\Derek\\Documents\\GitHub\\sitewhere-documentation/docs/development/build-debug-images.sh extra-class"><pre class="language-text"><code>Not found: C</code></pre></div><p>The debug images use a version identifier prefixed with <em>debug-</em> to prevent confusing
them with non-debug images. Note that there is a separate SiteWhere recipe for running
the debug Docker images since the debug port for each microservice must be remapped
to a different port. Using the debug images allows you to connect from a remote debugger
(such as the one in Eclipse) and set breakpoints in the running microservices.</p> <h2 id="next-steps"><a href="#next-steps" aria-hidden="true" class="header-anchor">#</a> Next Steps</h2> <p>Now that Docker images have been generated for the microservices, follow the steps in the
deployment guide to use SiteWhere recipes that assemble the microservices into a working
instance.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/11/2018, 8:01:27 PM</span></div></div> <!----> </div> <!----></div></div>
    <script src="/assets/js/7.adcf453d.js" defer></script><script src="/assets/js/4.62110963.js" defer></script><script src="/assets/js/app.30ef3b9b.js" defer></script>
  </body>
</html>
