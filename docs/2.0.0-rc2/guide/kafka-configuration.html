<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Apache Kafka Configuration | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0-RC2 Documentation">
    <link rel="icon" href="/docs/2.0.0-rc2/images/favicon.png">
    
    <link rel="preload" href="/docs/2.0.0-rc2/assets/css/0.styles.fb4e5637.css" as="style"><link rel="preload" href="/docs/2.0.0-rc2/assets/js/app.863eaa87.js" as="script"><link rel="preload" href="/docs/2.0.0-rc2/assets/js/22.88c1ebc2.js" as="script"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/3.0ced0293.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/2.51a7a63e.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/4.856fab00.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/5.dbb472b1.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/6.3128eec6.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/7.0cf4581c.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/8.d88f8556.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/9.f040bb75.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/10.4954d075.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/11.b329fdef.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/12.3c6c9a9b.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/13.9bece0e5.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/14.af1935cd.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/15.1d0b250f.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/16.bb4b32cb.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/17.c972f4e4.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/18.9f1f7fe6.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/19.066628d4.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/20.84af30d9.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/21.073c53e7.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/23.24185a37.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/24.1f0c45e8.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/25.a938c833.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/26.d0cf564a.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/27.7167eb9d.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/28.96f843f0.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/29.7ab950a7.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/30.6658193e.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/31.df69b331.js">
    <link rel="stylesheet" href="/docs/2.0.0-rc2/assets/css/0.styles.fb4e5637.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0-rc2/" class="home-link router-link-active"><img src="/docs/2.0.0-rc2/images/logo.svg" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0-rc2/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/guide/" class="nav-link router-link-active">User Guide</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/development/" class="nav-link">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/guide/kafka-configuration.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/es/guide/kafka-configuration.html" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0-rc2/platform/" class="nav-link">Platform</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/guide/" class="nav-link router-link-active">User Guide</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/deployment/" class="nav-link">Deployment</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/development/" class="nav-link">Development</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Languages</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/guide/kafka-configuration.html" class="nav-link router-link-exact-active router-link-active">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/es/guide/kafka-configuration.html" class="nav-link">Español</a></li></ul></div></div> <a href="https://github.com/sitewhere/sitewhere-documentation" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0-rc2/guide/" class="sidebar-link">SiteWhere User Guide</a></li><li><a href="/docs/2.0.0-rc2/guide/zookeeper-configuration.html" class="sidebar-link">Apache Zookeeper Configuration</a></li><li><a href="/docs/2.0.0-rc2/guide/kafka-configuration.html" class="active sidebar-link">Apache Kafka Configuration</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/guide/kafka-configuration.html#kafka-connectivity" class="sidebar-link">Kafka Connectivity</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/guide/kafka-configuration.html#kafka-data-persistence" class="sidebar-link">Kafka Data Persistence</a></li></ul></li><li><a href="/docs/2.0.0-rc2/guide/microservices/instance-management.html" class="sidebar-link">Instance Management Microservice</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="apache-kafka-configuration"><a href="#apache-kafka-configuration" aria-hidden="true" class="header-anchor">#</a> Apache Kafka Configuration</h1> <p><a href="https://kafka.apache.org/" target="_blank" rel="noopener noreferrer">Apache Kafka<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> is used by SiteWhere to provide a
high-performance data processing pipeline between microservices. Kafka relies
on Apache Zookeeper for saving its state and is generally configured to share
the same Zookeeper instance used for storing SiteWhere configuration data.</p> <h2 id="kafka-connectivity"><a href="#kafka-connectivity" aria-hidden="true" class="header-anchor">#</a> Kafka Connectivity</h2> <p>All SiteWhere microservices have some level of reliance on Kafka and must
be configured to access a shared Kafka cluster. The microservices use the
following environment variables and default values for connecting to Kafka:</p> <table><thead><tr><th>Setting</th> <th>Environment Variable</th> <th>Default Value</th></tr></thead> <tbody><tr><td>Kafka Bootstrap Servers</td> <td>sitewhere.kafka.bootstrap.servers</td> <td>kafka:9092</td></tr></tbody></table> <p>The information Kafka uses to connect to Zookeeper is configured in the Docker
Compose file service descriptor (or in the Kafka configuration if not running
Kafka within Docker).</p> <h2 id="kafka-data-persistence"><a href="#kafka-data-persistence" aria-hidden="true" class="header-anchor">#</a> Kafka Data Persistence</h2> <p>If using Kafka within a Docker Compose configuration, the Kafka data folder
should be mapped to a local volume so that it is not lost when the service is
stopped. The SiteWhere infrastructure recipes have a common shared data volume
that is used to store persistent data from all services such as Zookeeper,
Kafka, and various databases. The data volume may be deleted in order to start
with a &quot;clean&quot; system.</p></div> <div class="page-edit"><div class="edit-link"><a href="https://github.com/sitewhere/sitewhere-documentation/edit/master/docs/guide/kafka-configuration.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Last Updated: </span> <span class="time">9/11/2018, 11:46:25 PM</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/2.0.0-rc2/guide/zookeeper-configuration.html" class="prev">
          Apache Zookeeper Configuration
        </a></span> <span class="next"><a href="/docs/2.0.0-rc2/guide/microservices/instance-management.html">
          Instance Management Microservice
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.0.0-rc2/assets/js/22.88c1ebc2.js" defer></script><script src="/docs/2.0.0-rc2/assets/js/app.863eaa87.js" defer></script>
  </body>
</html>
