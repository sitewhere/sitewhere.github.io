<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Configuración de Apache Zookeeper | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0-RC2 Documentation">
    
    
    <link rel="preload" href="/assets/css/0.styles.5aefda53.css" as="style"><link rel="preload" href="/assets/js/app.30ef3b9b.js" as="script"><link rel="preload" href="/assets/js/15.cebab772.js" as="script"><link rel="prefetch" href="/assets/js/2.afb7252f.js"><link rel="prefetch" href="/assets/js/3.bfb81d55.js"><link rel="prefetch" href="/assets/js/4.62110963.js"><link rel="prefetch" href="/assets/js/5.59ede072.js"><link rel="prefetch" href="/assets/js/6.c138f168.js"><link rel="prefetch" href="/assets/js/7.adcf453d.js"><link rel="prefetch" href="/assets/js/8.80173e00.js"><link rel="prefetch" href="/assets/js/9.cb98154c.js"><link rel="prefetch" href="/assets/js/10.fd27a369.js"><link rel="prefetch" href="/assets/js/11.51e83dc9.js"><link rel="prefetch" href="/assets/js/12.7dbaf8d4.js"><link rel="prefetch" href="/assets/js/13.d6eac997.js"><link rel="prefetch" href="/assets/js/14.d953024d.js"><link rel="prefetch" href="/assets/js/16.5a1a00e7.js"><link rel="prefetch" href="/assets/js/17.1b790335.js"><link rel="prefetch" href="/assets/js/18.da9f1def.js"><link rel="prefetch" href="/assets/js/19.d81bee4e.js"><link rel="prefetch" href="/assets/js/20.cded3432.js"><link rel="prefetch" href="/assets/js/21.b5c12c97.js"><link rel="prefetch" href="/assets/js/22.80ea4b39.js"><link rel="prefetch" href="/assets/js/23.cf39a4d1.js"><link rel="prefetch" href="/assets/js/24.db42e1f8.js"><link rel="prefetch" href="/assets/js/25.db1b249a.js"><link rel="prefetch" href="/assets/js/26.7f2ab2e1.js"><link rel="prefetch" href="/assets/js/27.17a4ebb2.js"><link rel="prefetch" href="/assets/js/28.6fe21b30.js"><link rel="prefetch" href="/assets/js/29.0c9ceb81.js"><link rel="prefetch" href="/assets/js/30.ba35881e.js"><link rel="prefetch" href="/assets/js/31.9532abde.js">
    <link rel="stylesheet" href="/assets/css/0.styles.5aefda53.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/es/" class="home-link router-link-active"><img src="/images/logo.png" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/es/guide/" class="nav-link router-link-active">Guía del usuario</a></div><div class="nav-item"><a href="/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/zookeeper-configuration.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/es/guide/zookeeper-configuration.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/es/platform/" class="nav-link">Plataforma</a></div><div class="nav-item"><a href="/es/guide/" class="nav-link router-link-active">Guía del usuario</a></div><div class="nav-item"><a href="/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/guide/zookeeper-configuration.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/es/guide/zookeeper-configuration.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/es/guide/" class="sidebar-link">Guia de Usuario de SiteWhere</a></li><li><a href="/es/guide/zookeeper-configuration.html" class="active sidebar-link">Configuración de Apache Zookeeper</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/es/guide/zookeeper-configuration.html#conectividad-con-zookeeper" class="sidebar-link">Conectividad con Zookeeper</a></li></ul></li><li><a href="/es/guide/kafka-configuration.html" class="sidebar-link">Configuración de Apache Kafka</a></li><li><a href="/es/guide/microservices/instance-management.html" class="sidebar-link">Microservicio Instance Management</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="configuracion-de-apache-zookeeper"><a href="#configuracion-de-apache-zookeeper" aria-hidden="true" class="header-anchor">#</a> Configuración de Apache Zookeeper</h1> <p><a href="https://zookeeper.apache.org/" target="_blank" rel="noopener noreferrer">Apache ZooKeeper<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> se utiliza para la administración
centralizada de la configuración de los microservicios de SiteWhere. Provee el almacenamiento
de los datos de configuración en forma de una estructura de árbol confiable y de alta performance,
y puede ser agrupado (en cluster) para ofrecer altq disponibilidad y confiabilidad.</p> <h2 id="conectividad-con-zookeeper"><a href="#conectividad-con-zookeeper" aria-hidden="true" class="header-anchor">#</a> Conectividad con Zookeeper</h2> <p>Todos los microservicios de SiteWhere depende de Zookeeper para proporcionar la información de configuración
en tiempo de ejecución. Los microservicios usan las siguientes variables de entorno y valores por defecto
para conectarse a Zookeeper:</p> <table><thead><tr><th>Configuración</th> <th>Variable de Entorno</th> <th>Valor por Defecto</th></tr></thead> <tbody><tr><td>Zookeeper Host</td> <td>sitewhere.zookeeper.host</td> <td>localhost</td></tr> <tr><td>Zookeeper Port</td> <td>sitewhere.zookeeper.port</td> <td>2181</td></tr></tbody></table> <div class="warning custom-block"><p class="custom-block-title">ADVERTENCIA</p> <p>La configuración de Docker Compose debe pasar un nombre de host de Zookeeper que se pueda
resolver en la red Docker a la que están conectados los microservicios. Tenga en cuenta
que las variables de entorno del Zookeeper se deben pasar para cada microservicio.</p></div> <p>Una vez conectado con Zookeeper, el microservicio de gestión de instancias (instance management)
es responsable de crear la base de la instancia del árbol de Zookeeper basado en las siguientes
variables y valores por defecto:</p> <table><thead><tr><th>Configuración</th> <th>Variable de Entorno</th> <th>Valor por Defecto</th></tr></thead> <tbody><tr><td>Product Id</td> <td>sitewhere.product.id</td> <td>sitewhere</td></tr> <tr><td>Instance Id</td> <td>sitewhere.instance.id</td> <td>sitewhere1</td></tr></tbody></table> <p>Para los valores por defecto del sistema, el árbol de Zookeeper se encontrará en la raíz <code>sitewhere/sitewhere1</code>
y todos los demás datos de configuración de la instancia se ubicarán en relación con esa raíz. Si
varias instancias de SiteWhere deben ejecutarse al mismo tiempo utilizando el mismo clúster de Zookeeper,
deberían proporcionar valores diferentes para <code>sitewhere.instance.id</code> para que los datos de configuración
no se superpongan. Esto se puede lograr configurando la variable de entorno <code>sitewhere.instance.id</code>
a través de la configuración Docker Compose.</p> <div class="warning custom-block"><p class="custom-block-title">ADVERTENCIA</p> <p>Todos los microservicios destinados a ejecutarse en la misma instancia deben usar el mismo
valores para <code>sitewhere.product.id</code> y <code>sitewhere.instance.id</code>.</p></div> <p>Si utiliza Zookeeper dentro de una configuración de Docker Compose, la carpeta de datos de
Zookeeper debe asignarse a un volumen local para que no se pierda cuando el servicio es
detenido. Las recetas de infraestructura de SiteWhere tienen un volumen común de datos compartidos
que se usa para almacenar datos persistentes de todos los servicios, como Zookeeper,
Kafka, y varias bases de datos. El volumen de datos puede ser eliminado para comenzar
con un sistema &quot;limpio&quot;.</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Última actualización: </span> <span class="time">2018-9-12 07:45:40</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/es/guide/" class="prev router-link-active">
          Guia de Usuario de SiteWhere
        </a></span> <span class="next"><a href="/es/guide/kafka-configuration.html">
          Configuración de Apache Kafka
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/assets/js/15.cebab772.js" defer></script><script src="/assets/js/app.30ef3b9b.js" defer></script>
  </body>
</html>
