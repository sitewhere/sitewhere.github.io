<!DOCTYPE html>
<html lang="es">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Arquitectura de SiteWhere | SiteWhere</title>
    <meta name="description" content="SiteWhere CE 2.0.0-RC2 Documentation">
    
    
    <link rel="preload" href="/docs/2.0.0-rc2/assets/css/0.styles.3935357d.css" as="style"><link rel="preload" href="/docs/2.0.0-rc2/assets/js/app.d9b82b12.js" as="script"><link rel="preload" href="/docs/2.0.0-rc2/assets/js/17.c972f4e4.js" as="script"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/3.0ced0293.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/2.51a7a63e.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/4.856fab00.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/5.dbb472b1.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/6.3128eec6.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/7.0cf4581c.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/8.d88f8556.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/9.f040bb75.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/10.4954d075.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/11.b329fdef.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/12.3c6c9a9b.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/13.9bece0e5.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/14.af1935cd.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/15.1d0b250f.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/16.bb4b32cb.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/18.9f1f7fe6.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/19.066628d4.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/20.84af30d9.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/21.073c53e7.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/22.88c1ebc2.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/23.24185a37.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/24.1f0c45e8.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/25.a938c833.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/26.a634dd85.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/27.9def3318.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/28.96f843f0.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/29.7ab950a7.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/30.6658193e.js"><link rel="prefetch" href="/docs/2.0.0-rc2/assets/js/31.df69b331.js">
    <link rel="stylesheet" href="/docs/2.0.0-rc2/assets/css/0.styles.3935357d.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/docs/2.0.0-rc2/es/" class="home-link router-link-active"><img src="/docs/2.0.0-rc2/images/logo.svg" alt="SiteWhere" class="logo"></a> <div class="links" style="max-width:nullpx;"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><a href="/docs/2.0.0-rc2/es/platform/" class="nav-link router-link-active">Plataforma</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/es/guide/" class="nav-link">Guía del usuario</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/platform/architecture.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/es/platform/architecture.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <!----></nav></div></header> <div class="sidebar-mask"></div> <div class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/docs/2.0.0-rc2/es/platform/" class="nav-link router-link-active">Plataforma</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/es/guide/" class="nav-link">Guía del usuario</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/es/deployment/" class="nav-link">Despliegue</a></div><div class="nav-item"><a href="/docs/2.0.0-rc2/es/development/" class="nav-link">Desarrollo</a></div><div class="nav-item"><a href="https://github.com/sitewhere/sitewhere" target="_blank" rel="noopener noreferrer" class="nav-link external">
  GitHub
  <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div><div class="nav-item"><div class="dropdown-wrapper"><a class="dropdown-title"><span class="title">Idiomas</span> <span class="arrow right"></span></a> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/platform/architecture.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/docs/2.0.0-rc2/es/platform/architecture.html" class="nav-link router-link-exact-active router-link-active">Español</a></li></ul></div></div> <!----></nav>  <ul class="sidebar-links"><li><a href="/docs/2.0.0-rc2/es/platform/" class="sidebar-link">Plataforma SiteWhere</a></li><li><a href="/docs/2.0.0-rc2/es/platform/architecture.html" class="active sidebar-link">Arquitectura de SiteWhere</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/es/platform/architecture.html#microservicios" class="sidebar-link">Microservicios</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/es/platform/architecture.html#instance-management" class="sidebar-link">Instance Management</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/es/platform/architecture.html#configuration-management-con-apache-zookeeper" class="sidebar-link">Configuration Management con Apache ZooKeeper</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/es/platform/architecture.html#procesamiento-de-eventos-con-apache-kafka" class="sidebar-link">Procesamiento de eventos con Apache Kafka</a></li><li class="sidebar-sub-header"><a href="/docs/2.0.0-rc2/es/platform/architecture.html#comunicacion-entre-microservicios-con-grpc" class="sidebar-link">Comunicación entre microservicios con GRPC</a></li></ul></li><li><a href="/docs/2.0.0-rc2/es/platform/features.html" class="sidebar-link">Características de la Nueva Plataforma 2.0</a></li><li><a href="/docs/2.0.0-rc2/es/platform/microservice-overview.html" class="sidebar-link">Descripción de los Microservicios</a></li><li><a href="/docs/2.0.0-rc2/es/platform/twelve-factor.html" class="sidebar-link">SiteWhere como una Aplicación Twelve-Factor</a></li></ul> </div> <div class="page"> <div class="content"><h1 id="arquitectura-de-sitewhere"><a href="#arquitectura-de-sitewhere" aria-hidden="true" class="header-anchor">#</a> Arquitectura de SiteWhere</h1> <p>SiteWhere ha sido diseñado desde cero para aprovechar las últimas novedades
tecnologías para escalar de manera eficiente a las cargas esperadas en IoT grande
proyectos. En lugar de utilizar una arquitectura monolítica, SiteWhere abraza
un enfoque completamente distribuido utilizando microservicios para permitir escalar en el
nivel de componente para que el sistema se pueda adaptar al cliente
caso de uso El sistema se construye con un enfoque de marco usando claramente definido
API para que las nuevas tecnologías puedan integrarse fácilmente como ecosistema de IoT
evoluciona El resto de esta guía cubre las tecnologías centrales utilizadas por
SiteWhere y cómo encajan para construir un sistema integral.</p> <h2 id="microservicios"><a href="#microservicios" aria-hidden="true" class="header-anchor">#</a> Microservicios</h2> <p>SiteWhere 2.0 presenta un enfoque arquitectónico muy diferente del que se utilizó
en la plataforma 1.x Si bien las API principales no se modifican en su mayoría, la implementación del sistema
ha pasado de un enfoque monolítico a uno basado en microservicios. Este enfoque
proporciona una serie de ventajas sobre la arquitectura anterior.</p> <h3 id="separacion-de-intereses"><a href="#separacion-de-intereses" aria-hidden="true" class="header-anchor">#</a> Separación de intereses</h3> <p>Cada microservicio es una entidad completamente autónoma que tiene su
propio esquema de configuración único, componentes internos, persistencia de datos,
e interacciones con el canal de procesamiento de eventos. SiteWhere microservicios
se construyen sobre una estructura de microservicio personalizada y se ejecutan por separado
[Spring Boot] (https://projects.spring.io/spring-boot/) procesos, cada uno
contenido en su propia imagen [Docker] (https://www.docker.com/).</p> <p>Separar la lógica del sistema en microservicios permite las interacciones
entre varias áreas del sistema para ser definido más claramente. Esta
transición ya ha resultado en una más comprensible y sostenible
sistema y debería seguir pagando dividendos a medida que se agregan más características.</p> <h3 id="escala-lo-que-necesitas-deje-fuera-lo-que-no-hace"><a href="#escala-lo-que-necesitas-deje-fuera-lo-que-no-hace" aria-hidden="true" class="header-anchor">#</a> Escala lo que necesitas. Deje fuera lo que no hace</h3> <p>La arquitectura de microservicio permite escalar las áreas funcionales individuales del sistema
independientemente o se omite por completo. En casos de uso donde el procesamiento REST tiende a
ser un cuello de botella, múltiples microservicios REST se pueden ejecutar simultáneamente para manejar la carga.
Por el contrario, los servicios tales como la gestión de presencia que pueden no ser necesarios se pueden dejar
de modo que la potencia de procesamiento se pueda dedicar a otros aspectos del sistema.</p> <h2 id="instance-management"><a href="#instance-management" aria-hidden="true" class="header-anchor">#</a> Instance Management</h2> <p>La arquitectura 2.0 introduce el concepto de SiteWhere <em>instance</em>, que
permite que el sistema distribuido actúe como una unidad cohesiva con algunos aspectos
dirigido a nivel global. Todos los microservicios para un único sitio donde
la instancia debe ejecutarse en la misma infraestructura Docker, aunque el sistema
puede distribuirse en decenas o cientos de máquinas usando tecnologías tales como
[Docker Swarm] (https://github.com/docker/swarm) o [Kubernetes] (https://kubernetes.io/).</p> <h2 id="configuration-management-con-apache-zookeeper"><a href="#configuration-management-con-apache-zookeeper" aria-hidden="true" class="header-anchor">#</a> Configuration Management con Apache ZooKeeper</h2> <p>SiteWhere 2.0 mueve la configuración del sistema desde el sistema de archivos a
[Apache ZooKeeper] (https://zookeeper.apache.org/) para permitir una centralización
enfoque a la gestión de la configuración. ZooKeeper contiene una estructura jerárquica
que representa la configuración para una o más instancias de SiteWhere
y todos los microservicios que se usan para realizarlos.</p> <p>Cada microservicio tiene una conexión directa con ZooKeeper y usa el
jerarquía para determinar su configuración en tiempo de ejecución. Los microservicios escuchan los cambios
a los datos de configuración y reaccionan dinámicamente a las actualizaciones. Sin configuración
se almacena localmente dentro del microservicio, lo que evita problemas con
mantener los servicios sincronizados a medida que se actualiza la configuración del sistema.</p> <h2 id="procesamiento-de-eventos-con-apache-kafka"><a href="#procesamiento-de-eventos-con-apache-kafka" aria-hidden="true" class="header-anchor">#</a> Procesamiento de eventos con Apache Kafka</h2> <p>El canal de procesamiento de eventos en SiteWhere 2.0 ha sido completamente rediseñado y utiliza
[Apache Kafka] (https://kafka.apache.org/) para proporcionar un rendimiento resistente y de alto rendimiento
mecanismo para procesar progresivamente datos de eventos del dispositivo. Cada microservicio se conecta a
puntos clave en el proceso de procesamiento de eventos, leyendo datos de temas entrantes conocidos,
procesar datos y luego enviar datos a temas salientes conocidos. Entidades externas que
están interesados ​​en los datos en cualquier punto de la tubería pueden actuar como consumidores del Sitio donde
temas para usar los datos mientras se mueve a través del sistema.</p> <p>En la arquitectura SiteWhere 1.x, la canalización para el proceso de salida utilizó un bloqueo
enfoque que significaba que cualquier procesador de salida solo podría bloquear la tubería de salida.
En SiteWhere 2.0, cada conector de salida es un verdadero consumidor de Kafka con su propia compensación
marcador en la secuencia del evento. Este mecanismo permite que los procesadores de salida procesen datos
a su propio ritmo sin ralentizar a otros procesadores.</p> <p>Usar Kafka también tiene otras ventajas aprovechadas por SiteWhere. Dado que todos los datos para
el registro distribuido se almacena en el disco, es posible &quot;reproducir&quot; el flujo de eventos
en datos recolectados previamente. Esto es extremadamente valioso para aspectos como la depuración
lógica de procesamiento o prueba de carga del sistema.</p> <h2 id="comunicacion-entre-microservicios-con-grpc"><a href="#comunicacion-entre-microservicios-con-grpc" aria-hidden="true" class="header-anchor">#</a> Comunicación entre microservicios con GRPC</h2> <p>Mientras que los datos de evento del dispositivo generalmente fluyen en una tubería desde microservicio a microservidor</p></div> <div class="page-edit"><!----> <div class="last-updated"><span class="prefix">Última actualización: </span> <span class="time">2018-9-12 11:45:40</span></div></div> <div class="page-nav"><p class="inner"><span class="prev">
        ←
        <a href="/docs/2.0.0-rc2/es/platform/" class="prev router-link-active">
          Plataforma SiteWhere
        </a></span> <span class="next"><a href="/docs/2.0.0-rc2/es/platform/features.html">
          Características de la Nueva Plataforma 2.0
        </a>
        →
      </span></p></div> </div> <!----></div></div>
    <script src="/docs/2.0.0-rc2/assets/js/17.c972f4e4.js" defer></script><script src="/docs/2.0.0-rc2/assets/js/app.d9b82b12.js" defer></script>
  </body>
</html>
